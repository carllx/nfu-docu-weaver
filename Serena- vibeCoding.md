
![|200](https://i.ytimg.com/vi/DZ-gLebVnmg/hqdefault.jpg)
(Source: [youtube.com: Serena 作为 MCP 服务器的集成能力/ (230) 🚀Cursor+Serena最佳组合告别AI编程工具短板！支持Claude Code、windsurf、Cline！让AI编程不再是简单读取代码而是智能分析依赖关系，让复杂开源项目二次开发效率提升十倍 - YouTube](https://youtu.be/DZ-gLebVnmg?t=77))





---



---
### **重点整理**

在我之前的视频中，我介绍了很多AI编程工具。虽然它们功能强大，但在处理复杂项目时，往往无法真正理解代码的深层结构和逻辑，导致在增加新功能时容易引入bug。

为了解决这个痛点，我今天向大家介绍一款完全免费开源的AI编程助手——**Serena**。它最大的特点是具备真正的**语义理解**能力。

**Serena的核心优势**：

*   **技术基础**：它基于**LSP（语言服务器协议）**，这是现代IDE的标准，让它能像一个资深程序员一样，从结构、依赖和逻辑层面去理解代码，而不仅仅是做文本分析。
*   **MCP服务器**：作为一个**MCP服务器**，它可以无缝集成到我常用的AI编程工具中，比如**Cursor**、**Windsurf**和**Claude Code**。
*   **智能分析与记忆**：
    *   **深度理解**：它能进行全局符号搜索、精准查找代码引用，并快速生成项目概览。
    *   **独特记忆系统**：首次分析项目时，Serena会自动将项目的关键信息，如架构、业务逻辑等，保存在一个名为`memory`的目录中。在后续的开发中，它可以随时调用这些记忆，从而提供更精准、更具上下文的辅助。

**我的演示过程**：

1.  **环境配置**：我首先演示了如何在**Cursor**、**Windsurf**和**Claude Code**中将Serena配置为MCP服务器。这个过程很简单，只需要安装`uv`包管理器，然后添加一行配置代码或命令即可。
2.  **分析开源项目**：我选择了一个微软的复杂开源项目`Magentic-UI`进行测试。在**Cursor**中，我让Serena分析了该项目的执行流程，它不仅列出了所有可用的工具，还生成了非常详细、准确的执行流程图和时序图。
3.  **代码质量检查**：我还让它对项目代码进行质量检查。它迅速给出了包含代码格式、类型问题在内的详细报告，并提供了一套完整的改进计划。
4.  **二次开发（新增功能）**：最具挑战性的是，我要求Serena为这个项目增加一个完整的用户管理系统，包括注册、登录、密码重置等功能。它首先制定了一个详细的、分步骤的开发计划，然后在我每次确认后，逐步修改和创建了12个相关文件，最终成功地为项目增加了用户权限管理功能，并启动了带有精美登录页面的Web应用。

**总结**：

通过这次测试，我发现Serena在处理复杂开源项目的二次开发任务时表现非常出色。它强大的代码理解能力和智能的记忆系统，使其能够真正像一个开发伙伴一样协助我们。如果你也需要分析或修改复杂的代码库，我强烈推荐你尝试一下Serena。


---

[00:00] 讲者: 在前几期视频中，我为大家介绍了很多的AI编程工具，以及基于MCP服务器的辅助编程的开源项目。
[00:10] 讲者: 由于市面上的AI编程工具越来越多，像常用的Cursor，还有Windsurf，还有Claude Code，还有可以在VS Code中使用的Cline等AI编程工具以及插件。
[00:22] 讲者: 虽然这些AI编程工具还有编程插件，它们的综合能力比较强，但是在处理复杂项目的时候，还是会出现无法真正理解项目的代码结构，还有关系，或者在新增功能的时候引入了多种bug。
[00:36] 讲者: 为了弥补这些AI工具或者AI编程插件的短板和不足，本期视频将为大家详细介绍Serena，这款完全开源免费，并且真正具备语义理解能力的AI编程助手。
[00:50] 讲者: 它作为一款MCP服务器，能够直接集成到Claude桌面版，还有Cursor，还有Windsurf，还有Cline、Roo Code等，任何支持MCP服务器的编程工具或者编程插件中。
[01:02] 讲者: 它与其他编程工具或者编程插件的区别在于，它不是简单的读取我们的项目代码，而是像一个资深开发者一样，真正理解项目代码结构、关系还有逻辑，能够从头到尾自主执行编码任务，包括从需求分析、设计新组件、重构现有代码，到最终实现测试和版本控制与提交。
[01:24] 讲者: 它的核心优势在于，它是基于语言服务器协议，也就是LSP，这个协议是现代IDE都在使用的标准，比如说VS Code中的智能提示都是基于LSP实现的。
[01:37] 讲者: 传统的AI编程工具在分析项目的时候，都是先读取代码，然后进行文本分析，再猜测意图，最后生成结果，而Serena它是先理解项目结构，再分析依赖关系，然后精准定位，最后进行智能操作。
[01:52] 讲者: 所以Serena在大型项目中能够高效、快速、准确地找到相关的代码定义、引用还有依赖关系。下面为大家详细介绍一下Serena它具备哪些能力。
[02:02] 讲者: 首先它具备全局符号搜索的能力，比如说我们要查找这个函数，然后我们只需要用自然语言在Cursor中描述我们要查找这个函数在项目中的引用，在Cursor中就会调用Serena来查找这个函数在这个项目中的引用位置，像这里就是查找到的这个函数在这个项目中的引用位置，而且查找到的引用位置都精确到了在第几行，并且这里他给出了这个函数功能的分析。
[02:32] 讲者: 当我们在分析复杂项目的时候，想了解某个函数在哪些地方被调用时，就可以使用Serena的引用查找功能来精准找到所有引用这个函数的代码片段。
[02:43] 讲者: Serena还可以快速生成项目的概览，它能告诉我们每个文件定义了哪些类、哪些函数、哪些变量，能够让我们快速掌握整个项目的架构。
[02:53] 讲者: Serena还有一个非常独特的记忆系统，它会在首次分析项目时，能够自动分析并记住项目的关键信息、架构特点、重要业务逻辑等。
[03:08] 讲者: 他分析并记住的项目的关键信息、架构特点、重要业务逻辑等，都会单独保存在memory这个目录中，然后这里就是他分析并且保存的这些文件，然后我们都可以点击查看，还包含这些项目的目录结构，还包含项目概览，像这样的话，在后续的对话中，Serena就可以利用这些记忆文件来更好的理解我们的需求。
[03:28] 讲者: 好，下面为大家详细演示我们如何以MCP服务器的方式，在Cursor、Windsurf还有Claude Code中来使用Serena，并且我们在Cursor中为大家详细演示如何使用Serena为我们分析复杂项目，并且为复杂项目增加功能。
[03:42] 讲者: 首先我们先打开终端命令行，来测试一下我们的系统是否安装了uv包管理器，如果没有安装的话，我们可以根据自己的操作系统来复制相应的命令来安装uv包管理器。
[03:56] 讲者: 像我这里是Mac系统，我这里就复制这条命令。
[03:59] 讲者: 然后在终端命令行直接粘贴并且运行就可以。像Windows用户可以使用这条命令，在Windows的PowerShell中来执行就可以。
[04:08] 讲者: 下面我们可以先在Cursor中来测试一下，我们在Cursor中打开Cursor的设置，然后再点击工具这里，然后再点击这个添加自定义MCP服务器。
[04:18] 讲者: 然后复制笔记中的这个配置代码。
[04:21] 讲者: 然后我们直接粘贴在Cursor的这个配置文件中，然后保存并且关闭就可以，然后我们就可以在Cursor中看到Serena了，然后这里我们可以点击展开，来查看它支持的这些工具。
[04:32] 讲者: 在Windsurf中配置的话也非常简单，我们只需要点击这个MCP服务器的这个图标，再点击这个配置，在弹出的设置这里，我们再点击查看原始的这个配置文件，然后将刚才的代码粘贴在这里，保存并关闭就可以。
[04:48] 讲者: 像这样的话，我们就可以在Windsurf中来查看Serena中这些可以调用的这些工具。
[04:53] 讲者: 在Claude Code中使用也非常简单，首先我们打开终端命令行，然后我们直接复制这条命令，在终端命令行中，我们直接粘贴并且执行就可以。
[05:03] 讲者: 这里提示添加成功，然后我们直接用Claude命令来打开Claude Code。
[05:07] 讲者: 在这个对话框这里，我们直接输入斜线，然后MCP，然后我们进入查看这个MCP Server。
[05:13] 讲者: 在Claude Code中，这里我们就可以看到Serena这里已经成功启用，然后我们直接按enter键就可以查看详细信息，并且这里显示27个可以使用的工具。
[05:22] 讲者: 像这样的话，我们就可以在Claude Code中来使用Serena了。
[05:26] 讲者: 下面我们先找一个复杂一些的开源项目，用Serena来进行分析，然后我这里就找微软开源的这个magentic-ui这款智能体，让Serena进行详细的分析。
[05:38] 讲者: 首先我们复制这个项目的这个链接，然后回到Cursor，然后点击克隆这个项目，然后将项目链接粘贴，然后按enter键，然后我们选一个路径，这里正在克隆这个项目。
[05:48] 讲者: 这里克隆成功，然后下面我们就可以来测试一下，在Cursor中来使用Serena来分析这个开源项目。
[05:55] 讲者: 我们可以先问一下它有哪些工具可以调用，我们直接输入提示词“Serena中有哪些工具可以调用”，然后我们直接运行。
[06:02] 讲者: 这里它提示它需要先激活我们刚才下载的这个项目。
[06:06] 讲者: 好，下面这里他开始输出Serena中当前激活的这些工具，包括代码搜索、还有查找工具、还有代码编辑工具、思考和分析工具、记忆管理工具、系统管理工具、项目管理工具，还有一些未激活的这些工具。
[06:21] 讲者: 这里还给出了可用的这些记忆文件。
[06:23] 讲者: 下面我们就可以输入提示词，让Cursor来分析这个复杂的开源项目，我们输入的提示词是“分析这个项目的执行流程”，然后我们直接发送。
[06:32] 讲者: 好，这里他开始输出这个项目的执行流程，他这里给出了这个项目的执行模式，然后下面这里他画出了这个项目的执行流程图，包括用户执行，然后检查命令行，检查Docker状态，还有构建Docker镜像，设置环境，启动FastAPI服务器，加载前端应用，用户通过浏览器访问界面，创建对话，还有代理团队，下面这里就是多agent的协作，还有执行的相关流程。
[07:12] 讲者: 下面这里他画出了这个任务执行流程图，画的这个图还是非常详细、非常准确的。
[07:19] 讲者: 然后这里他给出了这个容器化架构。下面这里还给出了详细的启动流程，包括这个UI模式的启动序列。
[07:27] 讲者: 下面这里是这个命令行模式的启动序列。下面这里就是前后端交互的这个流程。
[07:34] 讲者: 最后这里给出了这个工作流特点，可以看到它对这个项目的分析非常的详细。
[07:39] 讲者: 下面我们还可以让它调用Serena里的代码质量检查工具，来检查有哪些地方需要修改。
[07:46] 讲者: 我们直接发送这个提示词。
[07:48] 讲者: 这里他开始输出代码质量检查报告，然后我们可以详细看一下。
[07:52] 讲者: 首先这里是他发现的代码格式相关的这些问题，然后就是类型检查相关的这些问题。
[07:59] 讲者: 下面这里是关于没有完成的这些项的分析。然后这里还给出了代码质量的这个亮点，然后在这里给出了改进行动的计划。
[08:08] 讲者: 下面我们还可以让它进行更加复杂的操作，比如说我们输入提示词“请为重构任务创建一个详细的计划，并保存为记忆”。
[08:18] 讲者: 然后我们直接发送，像这样的话，它就能够为刚才提到的如何去重构来创建一个详细的计划，并且保存成记忆文件。
[08:25] 讲者: 这里它提示重构计划已经创建完成，这里给出了这个计划概览，还有这4个阶段。
[08:31] 讲者: 下面我们可以输入提示词，让它显示所有的这些项目记忆。
[08:35] 讲者: 下面这里它显示出了所有与项目记忆相关的这些文件，还包含当前状态中我们刚才告诉它的与重构计划相关的这些记忆。
[08:46] 讲者: 下面我们还可以让Serena在这个开源项目的基础上为我们新增功能，我这里输入提示词，我需要实现一个完整的用户管理系统，包括用户注册、登录、密码重置、资料管理、权限控制，然后让它分步骤实现，每完成一个功能需要确认后再继续下一个功能。
[09:04] 讲者: 然后我们直接发送，让它为我们在这个开源项目的基础上实现这个用户管理系统。
[09:10] 讲者: 好，这里它开始调用Serena，这里它开始输出这个用户管理系统要实现的计划，包括第一步，数据库设计，然后这里它提示是否实现第一步。
[09:20] 讲者: 然后我们输入提示词“请实现第一步”，这样的话，它就能在这个开源项目的基础上，新增这个用户权限管理的功能。
[09:28] 讲者: 这里它提示第一步完成，包括数据库设计，这里是已完成的这些工作。然后下面这里它给出了第二步，包括JWT令牌认证系统、密码加密和验证、用户注册、用户登录、令牌刷新等等。
[09:42] 讲者: 然后我们直接输入提示词“请实现第二步”，让它来实现第二步它提到的这些功能。
[09:48] 讲者: 好，可以看到这里它正在为我们改写这些代码。
[09:52] 讲者: Five minutes later
[09:56] 讲者: 这里它已经为我们完成了这个项目，下面我们就可以让它来运行一下这个项目，测试一下这个项目。我们直接输入“请运行这个项目”，然后发送。
[10:05] 讲者: 好，现在这里显示这个项目已经成功启动，这里是它的这个链接，然后我们在浏览器中打开。
[10:12] 讲者: 在浏览器中打开之后，这里是这个非常精美的这个登录页面，然后我们点立即注册来测试一下。
[10:20] 讲者: 然后我们输入用户名，再输入邮箱，再输入密码，然后这里点击同意，再点击注册。
[10:26] 讲者: 好，这里提示注册成功，然后我们点立即登录，然后输入我们刚才注册的用户名还有密码，然后我们点击登录。
[10:32] 讲者: 点击登录之后，就成功跳转到了这个Magentic-UI这个AI智能体的这个主界面，像这样的话，我们就成功在Cursor中调用Serena，为Magentic-UI这款开源的AI智能体项目新增了用户权限管理的功能。
[10:50] 讲者: 像这样的话，对于复杂开源项目的二次开发，大家就可以借助Serena，在自己熟悉的AI编程工具里去调用，对开源项目进行详细分析，或者二次开发。
[11:01] 讲者: 好，本期视频为大家演示了使用Serena分析开源项目，并且在开源项目上进行二次开发，通过我们的测试可以发现，Serena的效果还是非常不错的。
[11:11] 讲者: 好，本期视频就做到这里，欢迎大家点赞、关注和转发，谢谢大家观看。
