(18) Collapsing Noise - Particles, Instancing, Audio-Reactive TOUCHDESIGNER TUTORIAL - YouTube
https://www.youtube.com/watch?v=qLebV9rjqb4

![|200](https://i.ytimg.com/vi/qLebV9rjqb4/hqdefault.jpg)



Transcript:
(00:04) hello guys gals and enb's long time no see let's make this goofy little thing today it's made with instancing and tops but it can pretty easily be translated to Pops eventually when that's relevant you will need the life component for this you can find a link to a tutorial for that in the description it's a fairly easy build or you can download it on my patreon at by end I also show you how to make this audio [Music] reactive let's have some fun let's start with a constant chop to set our Point count I'm using 720 by
(00:59) 720 we can make a circle the easy way or the hard way so let's do it the hard way for fun by normalizing some noise making all the vectors length be equal to one in other words a circle I'll show you the easy way later let's drop down a noise top drag and drop the point count as resolution set it to 32bit float red and green do as I say not as I do offset zero monochrome off the type is random and now I realize I want this in 2D that's why I need the pixel format to just be red and [Music] green connect it to a composite
(01:57) top and set it to divide [Music] connect a mouth to the noise [Music] top combine channels by length mask the alpha and set it to 32-bit float mono Chuck it into the second input of the composite make sure the composite top is set to 32-bit float red green blue and Alpha and now we have a circle of points fun you could have just added a point generator from the pallet and set it to Circle squared the point [Music] count but where's the fun in that
(03:04) let's continue anull let's name it feedback start and a null named POS let's use a box sop today scale it to 0.01 [Music] Chuck the box into a geometry we will need a
(04:15) camera a PBR material a Fong would also work a light and a render top connect it to a null let's edit our pixel format and render resolution turn on instancing in the geomet R use the POS as translate and let's turn the lights up a little and use a comb
(05:27) light we will set this up properly later but let's use a null comp as lookout for both the camera and light okay with all of that in order let's make our particle system let's drop down a feedback top and put down a null called feedback end assign it to the feedback and also using a keyboard and chop to reset the feedback a point
(06:31) transform now if we scale this by 0.998 the circle shrinks by 0.998 every frame this is the same as multiplying by 0.998 but I like using the point transform because it is just so easy to use let's use the life component here Link in description check it into the start null and let's connect the life output to an over top and put that over the feedback loop let's have something like a 2cond Lifetime and high variance like 0.9 now our points are resetting to
(07:37) their original positions let's turn down the metallic and the material so we can actually see now for the secret sauce of this system we will calculate the velocity the velocity is just the difference in position between the previous frame and current frame I've seen people use a cache for that but if you are doing anything wild like using the life component or Loop limiting the positions that will go crazy really fast so let's do it like this instead connect a subtract top to the end null and let's select the over
(08:27) top Chuck that into the secondary input of the subtract and let's rename this to V Let's copy and paste our feedback top and a constant top before that and and let's zero it out now let's assign the velocity to that feedback and what happens if we add that to the [Music] loop crazy stuff let's add a math after that and set it
(09:32) to something like 0.92 you can think of this slider as velocity diffusion or even air resistance if you will but there is some craziness going on even when the particle is reborn it remembers the velocity from the previous life we don't want that to happen so let's fix that a select top let's split the screen and step inside the life component let's find this threshold that gives a value of one when the particles die select that over here and let's invert it with a the level top and multiply it after the velocity
(10:46) feedback oops that's monochrome line let's change the fixed layer in the multiply top to input one now it's a little bit more sensible [Music] okay let's add some noise to this a noise top both inputs connected to the over top offset zero amplitude one and under output set it to only noise a math to attenuate those values multiply it by
(11:51) 0.002 or something small and let's add this [Music] play around with the parameters of the [Music] noise and let's translate the noise with a speed chop a constant chop a speed chop and a [Music] null assign that to the translate Z
(13:00) give it some speed and watch it go and yeah you can give it some motion with the point transform play around with it [Music] and since we are using the velocity we can actually get some cental Force for free if we rotate the particles so that's fun [Music] [Music] okay let's give it some
(14:04) Shadows soft Shadows are [Music] nice but if we look at it from the side [Music] you will see that it goes below zero and I don't like that I'm going to give it a floor with a limit [Music] top mask all channels except blue limit minimum with zigzag at zero and now it sits on a floor [Music] there are people smarter than me who say
(15:29) that you shouldn't have instances smaller than 0.01 because of floating Point errors so I'm going to scale the box to 0.01 and then just scale up my geometry by 10 with a math top here and of course we will have to rearrange our camera and Light [Music] so yeah that's essentially it add some Bloom to
(16:36) it and play around with it but before we make this audio reactive let's create some controls for it this is better to do by customizing a component that we put everything inside but for the sake of the tutorial I will use a constant chop creating some channels for parameters that I want to control I'm making a noise speed noise amp harmonic gain section and rotation and let's assign
(17:48) these the noise speed to the noise speed noise amp to the amplitude in the noise top harmonic gain to the harmonic gain in the noise top and I will attenuate that with 0.8 in the point transform let's use the suction for the scale and set it to 1 minus the value times 0.005 copy paste that for All Access
(19:19) and let's set rotation to rotate on the z-axis multiplied by 0.2 we now have sliders we can control it with yeah these sliders can be fun to control with a midi device or whatever and you can add more sliders if you want but of course we can also use audio an audio device in but for today let's use an audio file in and let's use the audio analysis from
(20:31) the pallet because it is really good most of the time let's turn all of these on [Music] let's turn the thresholds down a little and let's start assigning these have fun and experiment with these but this is what I did but I'm using low for noise amp multiply it by two and let's add a hint of like to
(21:42) [Music] this the mids for the noise speed multiplied by three adding 0.5 first so there's always a little bit of [Music] movement highs for harmonic gain maybe attenuate that by 0.5 and for fun let's put the spectral Cent to rotation and keep the section for me to play with and yeah there we have it as an end to this video I just want to express the deepest gratitude to the people who support me on patreon Cheers do