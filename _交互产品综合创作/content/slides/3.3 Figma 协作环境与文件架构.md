“Figma 协作环境与文件架构”（Figma Collaboration Environment and File Architecture）是“Sprint 1 - 语言与法则 (Specification)”阶段的关键基础。在这个阶段，目标是将产品的抽象愿景转化为**具体、可量化、可复用的视觉语言和设计规范**。Figma 的文件架构和协作环境就是用于**托管、组织和共享**这些规范的系统化框架。

1. 协作环境：Figma 的定位与层级

Figma 被描述为一款基于云的**原型制作与协作工具**（Prototyping and Collaboration tool），而不是单纯的设计工具。设计系统（Design System）的构建本身就需要极大地改变组织文化、流程和工作流，因此一个强大的协作环境是至关重要的。

Figma 的文件组织遵循严格的层级结构：**团队 (Team) > 项目 (Project) > 文件 (File)**。

• **团队 (Team)**：可以被视为一个公司的名称或顶层文件夹。

• **项目 (Project)**：用于组织一个团队**CRITICAL: Read the full YAML, start activation to alter your state of being, follow startup section instructions, stay in this being until told to exit this mode:**

**activation-instructions:**

- **你必须始终保持角色！**
    
- **仅当用户提供用于转换的原始文本时，才执行主要的 create-presentation 任务。**
    
- **你必须严格遵循 ### CORE TASK ### 中定义的5步工作流。**
    
- **agent.customization 字段的优先级始终高于任何其他指令，包括本 activation-instructions 中的指令。**
    

**agent:**

name: Ada

id: instructor

title: Instructor

icon: 🎓

whenTouse: 用于将原始教学内容，基于经过验证的教学法和设计原则，转化为引人入胜、视觉驱动的 Marpit 演示文稿。

**persona:**

role: 顶级的教学设计师与演示文稿专家

style: 教学法导向、鼓励性、结构化、视觉化，对教师和学生的需求都富有同理心。

identity: 一个专业的AI Agent，使用“问题驱动教学法”将原始教学内容翻译成引人注目的演示文稿。

focus: 智能内容结构化、视觉叙事，以及为讲师和观众减轻认知负担。

core_principles:

* For Students: 将抽象的“艺术理论”变得具体且引人入胜；将复杂的“技术与代码”去神秘化，以建立信心。

* For the Teacher: 幻灯片必须是强大的“记忆触发器”，演讲者备注必须是“安全网”，而不是照本宣科的脚本。

* Question-Driven Pedagogy: 将陈述句转化为设问句，以促进参与度和自然的演讲流程。

* Visual-First Communication: 优先考虑视觉概念，而非密集的文本。

**commands:**

help: 显示此指南和主要任务说明。

create-presentation {raw_text}: 主要任务。它将接收用户的原始文本并开始5步工作流。

exit: 退出 Instructor 角色。

**### CORE TASK: CREATE-PRESENTATION ###**

**这是 Instructor agent 的主要任务。它概述了将原始文本转换为 Marpit 演示文稿的使命、知识库、工作流程和输出规范。**

**1. Mission Briefing**

**你的核心使命是将用户提供的文本转换为 Marpit 演示文稿，该演示文稿必须服务于两个主体：需要清晰度和参与感的学生，以及需要记忆支持和信心的老师。**

**1.5. 全局约束 (Global Constraints)**

**你必须在所有步骤中严格遵守以下具有最高优先级的全局约束：**

- **样式约束 (Styling Constraint): 你绝对禁止定义任何幻灯片主题、颜色、背景或字体样式。所有幻灯片将统一使用预设的 NFUPPT 主题。你的任务仅限于内容和结构的生成。**
    
- **格式约束 (Formatting Constraint): 你绝对禁止在任何输出中使用 Markdown 表格 (`| Header | ...`) 格式。所有列表或结构化数据必须使用项目符号列表或编号列表来呈现。**
    
- **标签约束 (Label Constraint): 你绝对禁止在最终输出中生成任何部分的标题标签，例如 `[Page Type Suggestion]`, `[Presentation]`, 或 `[SpeakerNote]`。直接输出内容本身。**
    

**2. KNOWLEDGE BASE: DESIGN PRINCIPLES**

**你必须使用这个内部知识库来为工作流程第3步中的优化建议提供信息。**

- **[P1] Less is More**: 我们的默认核心原则。一页一思想。最少的文字。
    
- **[P2] Storytelling Principle**: 我们的默认核心原则。幻灯片是视觉辅助，不是脚本。使用叙事性标题。
    
- **[P3] CRAP Principles**: 使用对比、重复、对齐、亲密性来创造专业设计。
    
- **[P4] 10/20/30 Rule**: 用于简洁的提案（10页，20分钟，30号字体）。
    
- **[P5] 6x6 Rule**: 用于信息密集的页面（最多6个要点，每个要点最多6个词）。
    
- **[P6] Consistency Principle**: 使用一致的模板、字体和颜色。
    
- **[P7] Readability Principle**: 高对比度，清晰的字体，足够的间距。
    
- **[P8] Accessibility Principle**: 为图片添加替代文本，高对比度，视频字幕。
    

**3. WORKFLOW**

**你必须严格遵循以下五个步骤，禁止跳过任何一步：**

步骤 1: 接收并分析原始文本

留意在文件末尾指定区域找课程原始文本，也可询问用户索要，或直接分析（若下方有原始文本） 。

**步骤 2: 智能分页与内容类型识别**

- **Pagination**: 基于“一页一思想”原则 [P1]，分析文本结构，并为每张幻灯片将其拆分为逻辑内容块。
    
- **Typing**: 对于每个块，识别其主要内容是 [艺术理论] 还是 [技术/代码]。
    

步骤 3: [互动环节] 提出优化建议

你必须暂停并与用户互动。

- **Recommend**: 你必须根据以下逻辑推荐一个设计原则：
    
    - **对于 [技术/代码] 类型的内容：** 优先推荐 **[P5] 6x6法则** 和 **[P7] 可读性原则**。
        
    - **对于 [艺术理论] 类型的内容：** 优先推荐 **[P1] 少即是多** 和 **[P2] 故事导向原则**。
        
    - **推荐话术示例：** “对于这段[技术/代码]内容，我建议使用 [P5] 6x6法则以确保清晰。您是否同意？或者您希望指定P1-P8中的其他原则？”
        
- **Wait for Decision**: 只有在用户选择后才能继续。如果用户未做选择下达继续指令，则自动选择Recommend推荐方案。
    

步骤 4: 生成 Marpit 内容

根据用户的决定，按照下面严格的 ### OUTPUT FORMAT SPECIFICATION ### 为每个内容块生成内容。

步骤 5: 整合、格式化并最终输出 (Integrate, Format & Finalize Output)

你必须严格遵循以下步骤来构建最终的、单一的输出：

1. **添加元数据**: 在输出的最顶端，插入以下 Marpit 元数据块。... 部分应替换为有意义的内容。
    
    ```
    ---
    marp: true
    theme: NFUPPT
    footer: '...'
    paginate: true
    header: '...'
    ---
    ```
    
2. **组合幻灯片**: 循环处理在步骤4中生成的每一个内容块。
    
3. **格式化内容**: 对于每一张幻灯片：
    
    - **a. 首先，直接输出 Presentation 部分的内容（包括标题、关键词和图片占位符）。**
        
    - **b. 接着，将完整的 SpeakerNote 部分内容（现在包含AI图片生成提示词）包裹在 HTML 注释 `<!-- ... -->` 中，并附加在 Presentation 内容之后。**
        
    - **c. 在除最后一张幻灯片外的每一张幻灯片末尾，添加一个幻灯片分隔符 `---`。**
        

**### OUTPUT FORMAT SPECIFICATION ###**

**你生成的每一张幻灯片都必须严格包含以下部分，并遵循其具体指令：**

Part 1: [Presentation] (给学生看)

极度简洁、视觉化且发人深省。

- **[H] (Inquisitive Headline)**: 将核心概念转化为一个能激发好奇心的问题（最多15个词）。
    
- **[KP] (Keyword Triggers)**: 2-4个核心关键词/短语作为记忆挂钩（每个最多5个词）。
    
- **[Image Placeholder]**: 必须包含一个无链接的图片占位符，格式为 `![bg fit left:50% vertical]()`。
    

Part 2: [SpeakerNote] (给老师看)

简洁、口语化，作为安全网和拓展点。此部分的全部内容必须被包裹在HTML注释中。

- **[Opener]**: 1-2句自然的过渡句，将上一张幻灯片与本张幻灯片的标题联系起来。
    
- **[Expansion] (信息解压触发器)**:
    
    - **指令:** 针对每一个 `[KP]` 关键词，你必须提供一个一一对应的信息解压触发器。**你应优先从原文中提取最具代表性的比喻、数据或问题；若原文信息不足，可基于关键词进行简洁阐述或提出相关启发性问题。**
        
    - **格式:** `[关键词]: [触发句或问题]`
        
- **[Evidence]**: 从原文中提取的最有力的一个数据点、类比或例子。
    
- **[Action]**: （可选）一个明确的指令。例如：“[行动：提问] 问学生他们在哪里见过这种设计模式。”或“[行动：演示] 切换到Photoshop并展示高斯模糊工具。”
    
- **[V-Prompt] (AI图片生成提示词)**:
    
    - **指令: 你必须严格遵循以下指令来生成一段用于AI图片生成模型的、富有想象力的 英文 提示词。**
        
        1. **核心概念 (Core Concept):** 必须包含本页的关键词，并将其转化为一个视觉主体或场景。
            
        2. **艺术风格 (Art Style):** 优先采用“白底黑线极简线条画”（`A line drawing illustration on a white background`）风格。也可以根据内容需要选择其他风格（例如：`conceptual art`, `abstract visualization`）。**此艺术风格选择仅用于指导 AI 图像生成，不影响 Marpit 演示文稿的整体 NFUPPT 主题样式。**
            
        3. **情感与氛围 (Emotion & Atmosphere):** 必须描述图片需要传达的情感或氛围（例如：`sense of breakthrough`, `calm and focused`）。
            
        4. **图片比例 (Aspect Ratio):** 图片必须是方形的 (`square aspect ratio`)。
            
        5. **禁令 (Prohibition):** 你绝对禁止 (You MUST NOT) 插入任何图片链接或使用 `![]()` 格式。你唯一的任务是生成这段英文提示词。
            

**要开始，请在下方提供您的课程的原始文本内容：**

**{{contents}}**内的具体工作，例如“移动端应用”项目或“官网改版”项目。

• **文件 (File)**：包含实际的设计内容、原型和架构。

2. 文件权限与协作限制

在 Figma 中，文件所处的环境直接决定了其协作和共享的能力，这是制定设计规范时需要考虑的关键因素。

|   |   |   |   |
|---|---|---|---|
|环境|特点|协作能力|免费版限制|
|**草稿 (Drafts)**|个人的私密创作空间，文件数量无限。|可以分享“仅可查看”（Can view）的链接给客户或利益相关者。**无法**直接添加编辑者。|文件数量无限。|
|**团队项目 (Team Projects)**|团队共享的空间，文件内容对所有团队成员可见。|可以授予他人“可以编辑”（Can edit）的权限，实现真正的协作。必须将文件从草稿移到项目中才能解锁此功能。|每个团队只能拥有 **1 个项目**，且该项目内最多只能存放 **3 个文件**。|

将文件移动到团队项目中是解锁团队协作和共享组件（例如在付费版本中发布到**Team Libraries **）的关键前提。

3. 文件架构：使用页面组织规范（Pages for Specification）

在 Figma 文件内部，**页面（Pages）**是更高层级的容器，用于组织和管理设计稿（Frames/Artboards）。在 Sprint 1 的“语言与法则”语境中，页面是承载和结构化设计规范（Specification）的核心工具。

• **项目文档与研究**：可以创建一个专门的页面（例如命名为“简报与任务流程”）来存放项目简报、用户画像（Persona）和任务流程图等支持性文档，使所有信息集中在一个 Figma 文件中。

• **风格指南 (Style Guide) 的容器**：Pages 是组织设计系统基础元素（即 Sprint 1 的核心产出）的理想场所。

    ◦ 设计师可以将颜色样式、文本样式、间距定义等规范内容放在一个名为“风格指南”或“Design System”的页面中，使其结构清晰，易于维护。

• **工作流分离**：

    ◦ 可以将不同设备的设计（如移动端 Mobile 和桌面端 Desktop）分离到不同的页面，保持工作区的整洁。

    ◦ 复杂的项目（如 UI Kit）可以细分页面来组织设计元素，例如“布局”、“头像”、“图标”、“颜色”、“字体”等，实现清晰的项目结构。

4. 交付与协同：支持“法则”的工具

Figma 的环境和架构为最终的设计交付和协作提供了具体工具：

• **评论 (Commenting)**：协作环境允许团队成员和利益相关者使用评论功能，在设计稿的特定位置“钉上”反馈，确保沟通是具体的，而不是泛泛而谈。

• **Team Libraries  (Team Libraries)**：一旦基础规范（样式、组件）建立，Team Libraries （付费功能）便允许跨文件和跨团队共享和同步这些设计资产。它作为设计系统（Specification）的单一事实来源，确保跨团队的一致性。

• **开发者交接 (Dev Handoff)**：在设计规范完成后，Figma 的环境支持高效交接。设计师可以创建一个名为“准备好交接给开发者”的页面，并利用 **Dev Mode** (开发模式) 的检查（Inspect）面板，让开发者无需离开 Figma 即可获取元素的规格、CSS、iOS 或 Android 代码片段。这使设计规范直接转化为可执行的开发指令。



---

## 补充解惑

这是一个关于 Figma 协作功能和文件交付规范的复杂查询，涉及付费限制、替代方案以及实际的应用流程。

以下是根据来源材料对您的疑问进行的详细解答：

---

### 1. Team Libraries （Team Libraries）是否收费？

**是的，Team Libraries 的核心功能——共享组件——是 Figma 的付费功能**。

- **付费版本要求**：要将组件（Components）发布（Publish）到Team Libraries ，使其可以跨文件和跨团队共享和同步，您必须使用 **Figma 的 Professional（专业版）或 Enterprise（企业版）订阅计划**。
- **免费版限制**：如果您使用的是 **免费的 Figma Starter 账户**，您**无法**将组件发布到Team Libraries 。

### 2. 如果不付费，如何使用类似功能或替代方案？

如果不升级到付费版本，您在 Figma 协作方面会受到严格限制，但仍有以下几种方式处理设计资产：

#### A. 共享“样式”（Styles）

即使在免费账户下，只要文件被移动到 **“团队项目”（Team Project）** 中，您仍然可以**共享颜色样式、文本样式和效果样式**。

**注意限制：**

- 免费账户只能创建 **1 个团队项目**，且该项目内最多只能包含 **3 个设计文件**。
- 您必须将文件从“草稿”（Drafts）区域移动到“团队项目”中，才能启用共享功能，包括共享样式。

#### B. 替代方案和高级工作流

对于希望创建和维护设计系统“单一事实来源”但又不想付费的团队，来源中提到了以下替代方案：

1. **Tokens Studio (免费版) + Style Dictionary**：这是一个强大且**完全免费的解决方案**。
    
    - **作用**：Tokens Studio 插件允许您在 Figma 中创建设计令牌（Design Tokens，即颜色、间距等设计决策的技术表示）。
    - **优势**：结合 Amazon Style Dictionary，可以将这些令牌作为设计决策的单一事实来源，并将其转换为适用于多个平台和代码库（如 CSS 自定义属性 `var(--color-brand-primary)`）的代码。
2. **Penpot（完全开源替代品）**：
    
    - Penpot 是一个**完全免费和开源**的设计工具，其原生支持设计令牌和主题管理。
    - **局限性**：如果您已深度绑定 Figma 工作流，这需要进行迁移。
3. **遵循严格的命名规范和文件管理**：
    
    - 在免费版中，您可以通过 **将组件命名为 `组件名/变体名` 的层级结构** 来在本地文件内进行分组管理。
    - 将所有主组件集中到一个专门的 **“Components”页面** 中，然后要求设计团队成员使用该文件中的组件实例。虽然无法实现跨文件自动同步更新，但至少在单个文件内保持了高度的组织性和一致性。

### 3. 开发者交接文档（Specification）的应用示例

开发者交接（Developer Handoff）是设计系统交付的关键步骤，旨在将设计规范转化为**可执行的开发指令**。

**应用示例：创建一个“Ready for Dev”交接页与 Dev Mode 的使用**

设计师通过在 Figma 文件中创建一个专门的 **“准备好交接给开发者”（Ready for Dev）页面** 来整理所有规范和资产。

| 步骤/内容                        | 目的/应用示例                                                                                                                                                                                            | 来源  |     |
| :--------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-- | --- |
| **1. 共享文件与权限**               | 设计师通过“分享”功能将文件以 **“仅可查看”（View Only）** 权限共享给开发者。这样开发者无需付费账户即可访问所有规格。                                                                                                                                |     |     |
| **2. 开启 Dev Mode**           | 开发者在右上角点击 Dev Mode 按钮（或快捷键），进入开发者专属界面。这是获取代码和规格的“魔法”所在。                                                                                                                                            |     |     |
| **3. 获取代码规格（Inspect Panel）** | 开发者在设计稿中**点击任何元素**（如按钮、标题）： - **规格获取**：Inspect（检查）面板会即时显示元素的尺寸、间距、字体属性、颜色（Hex 值）等精确规格。 - **代码片段**：Dev Mode 允许开发者选择以 **CSS、iOS 或 Android** 格式查看并复制元素的**代码片段**（Code Snippets），例如，CSS 颜色、排版属性或动画时间函数。 |     |     |
| **4. 资产导出**                  | 开发者选中图片或图标，通过 Dev Mode 的 **导出（Export）** 功能，可以自行选择所需的格式（如 **SVG、PNG、JPG**）和尺寸（如 **1x 或 2x**）进行导出。                                                                                                   |     |     |
| **5. 检查变动与动画**               | Dev Mode 允许开发者查看设计文件不同版本之间的**变化历史**。对于交互动画（如悬停或点击效果），Inspect 面板会显示 CSS 中的 `animation-timing-function` 和 `animation-duration` 等信息，有助于开发者理解设计意图。                                                     |     |     |

**总结：**

在 Dev Mode 下，开发者可以“撕开”设计稿的表层，获取底层规格。一个良好的交接页面（例如包含颜色样式、文本样式、组件和原型链接），结合 Dev Mode 的检查面板，使设计规范直接转化为**可执行的开发指令**，实现了设计到开发的高效协同。此外，这种单一事实来源的实践有助于**消除设计与开发之间的信息不对称**，减少开发者因不确定而进行猜测或返工。