# 导师敏捷指导手册 V4.0 (用户体验优化版)

**欢迎辞**: 欢迎您，导师。本手册是您与AI助教团队协作的快速参考指南。请将注意力集中在您**想要完成的任务**上，AI将处理所有复杂的技术细节。

---

## 核心日常工作流 (Core Daily Workflows)

这是您在日常指导中最常使用的命令，请优先掌握。

### **任务1：对学生提交物进行评审与反馈**

* **时机**: 当您收到学生的任何提交物（如草稿、分镜、模型）时。
* **说明**: 这是一个三步流程，旨在将您的想法结构化，生成标准反馈，并同步更新系统状态。

1.  **启动评审 (与AI讨论)**:
    * **目标**: 将您的初步想法和反馈要点，与AI分析师一起进行结构化整理。
    * **命令**:
        ```bash
        *analyst brainstorm --context "关于S_2026_01《心斋解牛》分镜草稿的反馈..."
        ```

2.  **生成反馈报告 (AI自动撰写与归档)**:
    * **目标**: 基于刚才的讨论，命令AI产品经理生成一份专业的反馈报告，并自动归档到对应的项目档案中。
    * **命令**:
        ```bash
        # 您只需告诉AI要反馈哪个项目，它会自动处理
        *pm create-doc student-feedback --entity-id CP_2026_A01 
        ```

3.  **更新项目状态 (同步到中央索引)**:
    * **目标**: 在中央注册表上更新该项目的最新进展，让全局进度一目了然。
    * **命令**:
        ```bash
        *po update-status --entity-id CP_2026_A01 --status "分镜待修改"
        ```

### **任务2：查看全局学生进度**

* **时机**: 任何您想了解全体学生宏观进度的时刻（如每周一例会前）。
* **说明**: 一键生成一份包含所有学生、项目和论文当前状态的Markdown报告。
* **命令**:
    ```bash
    # AI会自动以当前日期命名并存放在推荐目录
    *po generate-progress-report
    ```

---

## 开发与执行循环 (Development & Execution Loop)

**目标**: 将设计蓝图（PRD）通过一个持续的、高质量的循环，转化为实际的系统功能。

### **阶段一：开发准备 (一次性操作)**

- **时机**: 在项目首次启动开发前，或核心文档有重大更新后。
    
- **说明**: 将宏观的 `prd.md` 和 `architecture.md` 文档，拆分成AI代理易于处理的、按模块划分的“施工指令包”。
    
- **命令**:
    
    ```
    *po shard-doc --all
    ```
    

### **阶段二：迭代开发循环 (持续进行)**

这是一个持续的循环，直到所有 `Epic` 中的故事都完成为止：**生成 -> 批准 -> 开发 -> 验收 -> (重复)**。

1. **生成下一个开发任务 (AI生成Story)**:
    
    - **新会话启动指令 [新增]**:
        
        > **“你好，我们现在处于开发循环中，`prd` 和 `architecture` 文档已经被分隔。请准备生成下一个故事。”**
        
    - **说明**: 命令AI Scrum Master读取拆分后的需求，生成下一个最优先的可执行开发任务。
        
    - **操作**:
        
        ```
        *sm create
        ```
        
    - **产出**: 在 `docs/stories/` 目录下生成一个新的 `.md` 文件，状态为 `Status: Draft`。
        
2. **评审并批准任务 (您的决策)**:
    
    - **说明**: **这是您的关键决策点**。打开新生成的故事文件，审查其内容。确认无误后，**手动将文件顶部的状态从 `Status: Draft` 修改为 `Status: Approved`** 并保存。
        
3. **启动开发 (AI执行Story)**:
    
    - **新会话启动指令 [新增]**:
        
        > **“你好，这是一个已经批准的故事，请开始执行开发任务。”**
        
    - **说明**: 将已批准的故事内容交给AI开发者，它将开始进行实际的开发工作。
        
    - **操作**:
        
        ```
        *dev [将已批准的故事文件的全部内容粘贴到这里]
        ```
        
    - **产出**: `dev` 代理完成任务后，会将故事文件的状态更新为 `Status: Review`。
        
4. **审查与验收 (QA与您的确认)**:
    
    - **新会话启动指令 [新增]**:
        
        > **“你好，请对这个已完成开发的故事进行审查和验收。”**
        
    - **时机**: 当一个故事的状态变为 `Review` 时。
        
    - **说明**: 这是质量保证环节。您将命令 `po` (产品负责人) 代理，对 `dev` 代理的完成品进行一次全面的代码审查和功能验收。
        
    - **操作**:
        
        ```
        # 引用刚刚完成的故事文件路径
        *po validate-story-completion --story "docs/stories/1.1.system-config-setup.md"
        ```
        
    - **产出**:
        
        - **如果通过**: `po` 代理会自动将故事状态更新为 `Status: Done`，并向您报告。
            
        - **如果失败**: `po` 代理会返回一个包含具体问题的审查报告，并将故事状态打回 `Status: Approved`，等待您重新交给 `dev` 代理修复。
            
5. **决策：继续或规划 (您的战略选择)**:
    
    - **时机**: 当一个故事被标记为 `Done` 后。
        
    - **说明**: 您现在有两个选择：
        
        - **A. 继续下一个故事**: 如果当前 `Epic` 还有未完成的故事，您可以立即回到第1步，执行 `*sm create` 来启动下一个开发任务。
            
        - **B. 规划下一阶段**: 如果一个重要的里程碑（如一个完整的 `Epic`）已经完成，您可以暂停开发循环，与 `pm` (产品经理) 或 `architect` (架构师) 代理一起，回顾项目进展，并规划下一阶段的路线图和优先级。
            
    - **操作示例 (规划)**:
        
        ```
        *pm review-roadmap --context "Epic 1 已完成，现在我们来评估 Epic 2 的优先级和可能的技术风险。"
        ```

## 系统管理与维护 (System Administration)

这些是低频但非常重要的系统级操作。

### **学年初：初始化新学年**

* **时机**: 每年新学期开始，准备录入新生数据前。
* **操作**:
    1.  **更新配置**: 手动打开 `config/system_config.md` 文件，粘贴新学年的日期和要求。
    2.  **清空系统**: 执行以下命令，系统会自动备份上一届数据，然后清空注册表。
        ```bash
        *po initialize-new-year
        ```

### **日常：注册新实体**

* **说明**: 当有新学生、新项目或新论文需要录入时使用。AI会通过对话引导您完成所有信息的输入。
* **命令**:
    ```bash
    # AI会提问需要录入的是学生、项目还是论文
    *po add-entity
    ```

### **必要时：检查系统健康**

* **时机**: 当您对 `prd.md` 或 `architecture.md` 等核心文档做出重要调整后，或感觉系统行为异常时。
* **说明**: 命令AI产品负责人对整个系统进行一次“全面体检”。
* **命令**:
    ```bash
    *po execute-checklist
    ```
    > **[!] 架构师注**: 如果检查结果为 `FAIL`，请立即暂停其他工作，并参照 `GUIDE_REFACTORING_AND_REGENERATION.md` 进行安全修复。

### **特殊情况：文档再生 (高级)**

* **时机**: 仅在 `GUIDE_REFACTORING_AND_REGENERATION.md` 指引下使用。
* **说明**: 当核心蓝图修复后，此区域的命令用于一键重新生成所有派生文档（如本手册），以确保100%的一致性。
    ```bash
    # (示例) 重新生成本指导手册
    *bmad-orchestrator create-doc teacher-guide
    ```
