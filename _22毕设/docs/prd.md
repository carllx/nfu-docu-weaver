# Agile Mentorship System for Graduation Projects PRD

版本: 2.2 (补充故事生命周期与质量标准)

状态: ACTIVE

负责人: pm (产品经理)

语言: 标题 (en), 内容 (zh-CN)

## 1. 目标与背景 (Goals and Background Context)

### 1.1 目标 (Goals)

- **效率提升**: 将重复性的管理任务（如进度跟踪、格式检查、信息同步）自动化，将导师从繁琐的行政工作中解放出来，减少80%的管理时间。
    
- **质量保证**: 通过标准化的反馈流程和预设模板，确保对每位学生的指导都具有一致性、可追溯性和高质量。
    
- **系统可复用性**: 建立一个通用的核心框架，每年只需更新一个配置文件即可无缝应用于新一届学生，实现"一次构建，年年使用"的敏捷目标。
    
- **风险可预见性**: 通过结构化的数据和清晰的中央索引，让导师能一目了然地识别进度落后或存在心理状态风险的学生，并提前介入。
    

### 1.2 背景上下文 (Background Context)

当前的毕业创作与论文指导过程严重依赖导师的手动、重复性劳动，如反复同步信息、追踪多名学生的进度、以及维持反馈的质量与一致性。这不仅占用了导师本可用于高质量学术指导的宝贵时间，也使得整个指导过程难以规模化和系统化。

本系统旨在构建一个以AI为核心、配置驱动的敏捷管理框架。它将整个学年的指导过程抽象为由"静态配置（学年要求）"和"动态实体（学生、项目）"驱动的自动化工作流。通过将导师的角色从"微观管理者"转变为"宏观策略师"，我们旨在系统化、高效化、人性化地完成对整个毕业生群体的指导，从而让导师能真正专注于学术与创意的启发。

### 1.3 变更日志 (Change Log)

|   |   |   |   |
|---|---|---|---|
|**日期**|**版本**|**描述**|**作者**|
|2025-09-01|2.0|基于V2.0架构创建的初始版本|pm|
|2025-09-01|2.1|重新定义UI/UX目标，增加知识库Epic，与架构V2.2对齐|pm|
|2025-09-01|2.2|新增故事生命周期与质量标准定义，确保开发流程一致性|pm|

## 2. 需求 (Requirements)

### 2.1 功能性需求 (Functional Requirements)

- **FR-1**: 系统必须由一个唯一的外部配置文件 (`config/system_config.md`) 驱动，该文件定义了所有学年特定的变量，如时间节点和专业要求。
    
- **FR-2**: 系统必须支持三个核心实体（**学生**, **毕业创作**, **毕业论文**）及其之间的关系，所有实体及其关系必须在中央注册表 (`docs/cohort_registry.md`) 中进行索引。
    
- **FR-3**: 导师必须能通过在AI IDE中执行简单、标准化的命令来与系统进行交互和驱动工作流。
    
- **FR-4**: 系统必须提供一个标准化的师生反馈循环工作流，包括学生提交、导师评审、AI辅助生成反馈报告和实体状态更新。
    
- **FR-5**: 系统必须能够结合学生的动态数据和静态配置，为导师的指导决策提供数据支持。
    
- **FR-6**: 系统必须包含一个"知识库"功能，该功能由配置文件驱动，为学生提供分层的、结构化的学术资源。
    
- **FR-7**: 系统必须支持一个明确定义的故事生命周期（从Draft到Done），其状态在每个故事文件中进行跟踪。
    

### 2.2 非功能性需求 (Non-Functional Requirements)

- **NFR-1**: 所有文档、实体和工作流的结构必须严格遵守BMAD框架规范，以确保AI代理可以无缝地进行索引、解析和操作。
    
- **NFR-2**: 系统的核心架构必须与年度配置分离，确保在不修改核心逻辑的情况下，仅通过更新配置文件即可适应新学年的要求。
    
- **NFR-3**: 系统必须妥善管理学生档案中的个人敏感信息（如心理状态分析），确保数据隐私。
    

## 3. 用户与交互设计目标 (User & Interaction Design Goals)

### 3.1 整体UX愿景 (Overall UX Vision)

提供一个精确、高效、低认知负荷的"**对话式+文档式**"混合交互体验。导师的核心感受应是与一位高度专业的虚拟助理进行协作，通过简单的命令驱动复杂的文档生成与管理工作，而非学习和操作一套软件。

### 3.2 关键交互范式 (Key Interaction Paradigms)

- **命令驱动**: 所有核心操作均通过 `*<agent> <command> --<flag> <value>` 的标准化格式执行。
    
- **上下文感知**: AI代理必须能够理解当前操作的上下文，自动关联最近讨论的实体。
    
- **引导式交互**: 对于复杂操作，系统应能通过提问式对话引导导师完成所有必要信息的输入。
    

### 3.3 Markdown原生界面 (Markdown-Native UI)

本系统是一个以Markdown文档为核心输出界面的系统。所有由AI代理生成的报告和文档，都必须遵循以下UI/UX原则：

- **结构清晰**: 使用标准的Markdown标题层级、列表和表格来组织信息。
    
- **高可读性**: 保证排版简洁，重点突出，易于快速浏览和定位信息。
    
- **一致性**: 所有同类型的报告必须使用统一的模板和格式。
    

### 3.4 核心工作流 (Core Workflows)

系统的核心交互节点是以下五个主要工作流：

1. **学年初始化**: 编辑配置文件并执行初始化命令。
    
2. **实体注册**: 使用 `*po add-entity` 系列命令录入数据。
    
3. **反馈与指导**: 使用 `*analyst brainstorm`, `*pm create-doc`, `*po update-status` 完成反馈闭环。
    
4. **全局监控**: 使用 `*po generate-progress-report` 获取状态概览。
    
5. **知识库查询**: AI代理能够根据配置，向学生提供相关的学术资源。
    

### 3.5 未来扩展：图形用户界面 (GUI)

- **需求**: 系统架构应具备良好的可扩展性，为未来可能开发的Web仪表盘（Dashboard）预留接口。
    
- **愿景**: 未来的GUI应能可视化地展示 `docs/cohort_registry.md` 的内容，提供项目进度的图表分析，并允许通过点击按钮来触发部分核心工作流。
    

## 4. 技术假设 (Technical Assumptions)

- **仓库结构**: **Monorepo**。所有系统文件都将存储在一个统一的Git仓库中。
    
- **服务架构**: **文档即数据库 (Docs-as-Database)**。无传统后端服务或数据库，所有状态和数据都通过AI代理直接读写Markdown文件。
    
- **测试要求**: **清单驱动的完整性校验**。系统的核心回归测试依赖于 `docs/system_integrity_checklist.md`。
    

## 5. Epic 与 Story 列表

### Epic 1: 系统初始化与配置

**目标**: 建立一个可重复使用的框架，允许导师通过修改单个配置文件来启动和定制一个全新的学年。

- **Story 1.1**: 作为导师，我想要编辑一个独立的 `system_config.md` 文件，以便我能在一个地方定义新学年的所有关键时间节点和不同专业方向（Track）的具体学术要求。
    
    - **AC 1**: 配置文件中必须包含"全局学术日历"和"创作方向学术要求"两个核心模块。
        
    - **AC 2**: AI代理能够成功解析这两个模块中的所有数据。
        
- **Story 1.2**: 作为导师，我想要执行一个初始化命令（如 `*po initialize-new-year`），以便在新学年开始时安全地清空上一届学生的所有注册信息。
    
    - **AC 1**: 该命令能清空 `docs/cohort_registry.md` 的内容。
        
    - **AC 2**: 执行前应有备份或确认提示。
        

### Epic 2: 实体注册与关系建立

**目标**: 将现实世界的学生、项目和论文数字化，并在系统中建立它们之间准确的关系，形成一个可查询的知识图谱。

- **Story 2.1**: 作为导师，我想要使用 `*po add-entity --type student` 命令注册一名新学生。
    
    - **AC 1**: 命令执行后，学生ID和姓名被添加到 `docs/cohort_registry.md` 中。
        
    - **AC 2**: 系统会自动在 `cohort_data/students/` 目录下创建一个以该生ID和姓名命名的**新目录**，并包含一个 `index.md` 档案文件。
        
- **Story 2.2**: 作为导师，我想要注册一个毕业创作项目，并能指定其成员（一个或多个学生ID）。
    
    - **AC 1**: 项目ID、名称及成员关系被准确添加到 `docs/cohort_registry.md` 中。
        
    - **AC 2**: 系统会自动在 `cohort_data/creative_projects/` 目录下创建对应的项目**目录**和 `index.md` 文件。
        
- **Story 2.3**: 作为导师，我想要注册一篇毕业论文，并将其与唯一的作者（学生ID）关联。
    
    - **AC 1**: 论文ID、名称及作者关系被准确添加到 `docs/cohort_registry.md` 中。
        
    - **AC 2**: 系统会自动在 `cohort_data/theses/` 目录下创建对应的论文**目录**和 `index.md` 文件。
        

### Epic 3: 核心反馈与指导工作流

**目标**: 实现标准化的、可追溯的师生反馈循环，将导师的指导意见结构化并自动归档。

- **Story 3.1**: 作为导师，在收到学生提交物后，我想要启动一个 `*analyst brainstorm` 评审会话，以结构化地记录我的初步想法。
    
    - **AC 1**: `analyst` 代理能够围绕导师提供的上下文进行引导式讨论。
        
- **Story 3.2**: 作为导师，我想要使用 `*pm create-doc student-feedback` 命令为指定实体生成一份结构化的反馈报告。
    
    - **AC 1**: 命令能成功调用配置文件中定义的模板。
        
    - **AC 2**: 生成的报告能自动包含评审会话的核心内容。
        
    - **AC 3**: 生成的报告被自动保存到对应实体知识库的 `_feedback_archive/` 目录中。
        
    - **AC 4**: 一个指向新反馈报告的链接被自动添加到该实体 `index.md` 的"反馈日志"区域。
        
- **Story 3.3**: 作为导师，在给出反馈后，我想要使用 `*po update-status` 命令来更新对应实体的状态。
    
    - **AC 1**: `docs/cohort_registry.md` 中对应实体的状态信息被成功更新。
        
    - **AC 2**: `docs/cohort_registry.md` 中对应实体的"最后更新时间"被自动刷新。
        

### Epic 4: 全局监控与报告

**目标**: 为导师提供一个宏观视角，能够一键生成整个学生群体的进度报告，以便快速识别风险和瓶颈。

- **Story 4.1**: 作为导师，我想要执行 `*po generate-progress-report` 命令，以便系统能自动生成一份全局进度报告。
    
    - **AC 1**: 命令会读取 `docs/cohort_registry.md` 来获取所有实体列表。
        
    - **AC 2**: 报告最终输出为一份结构清晰的Markdown文档。
        
    - **AC 3**: 报告中对状态符合配置文件中"风险状态关键词"的实体进行高亮或特殊标记。
        

### Epic 5: 知识库管理

**目标**: 确保系统能够根据配置文件，为学生提供一个结构化、可查询的学术知识库。

- **Story 5.1**: 作为AI代理，我需要能够解析 `system_config.md` 中定义的"知识库架构"，以便理解不同层级（Tier 1/2/3）的知识分类和对应的文档路径。
    
    - **AC 1**: 代理可以成功读取并构建一个包含所有知识库文档及其元数据（如说明、路径）的内存模型。
        
- **Story 5.2**: 作为导师，当与AI代理讨论特定专业方向（如"游戏设计"）时，我希望代理能够主动引用或推荐知识库中相关的深度研究报告。
    
    - **AC 1**: 代理能够根据对话上下文，识别出对应的专业方向。
        
    - **AC 2**: 代理能够从知识库（Tier 2）中检索并提供相关文档的链接和摘要。
        

## 6. 故事生命周期与质量标准 (Story Lifecycle & Quality Standards)

本章节为所有AI代理（特别是sm, dev, qa）和导师在处理用户故事时，提供了必须遵循的核心原则和流程。

### 6.1 故事生成原则 (INVEST)

sm (Scrum Master) 代理在执行 `*sm create` 命令生成故事时，必须确保每个故事都符合以下INVEST质量标准：

- **I - Independent (独立的)**: 故事应尽可能自成体系，不依赖于其他故事。这使得它们可以被独立开发和验证。
    
- **N - Negotiable (可协商的)**: 故事不是一份严格的合同，而是一个需求的开端。导师应可以在Draft阶段对其进行评审和微调。
    
- **V - Valuable (有价值的)**: 每个故事完成后，都必须为系统或用户带来明确、可感知的价值。例如，实现了一个新命令，或自动化了一个流程。
    
- **E - Estimable (可估算的)**: 故事的范围必须足够清晰，以便dev代理能够"估算"其复杂性（即，可以在一个独立的会话中完成）。
    
- **S - Small (小颗粒度的)**: 故事必须足够小，能够被一个dev代理在一次独立的、不间断的开发会话中完成。任何过于庞大的故事都应被拆分成更小的、可独立交付的故事。
    
- **T - Testable (可测试的)**: 故事必须包含清晰、无歧义的验收标准（Acceptance Criteria），以便其完成后可以被客观地验证。
    

### 6.2 故事状态与生命周期

每个故事文件都包含一个 Status 字段，其状态必须遵循以下生命周期：

- **Draft (草稿)**: 故事由sm代理生成后的初始状态。此时，导师应审查其内容，确保其符合INVEST原则。
    
- **Approved (已批准)**: 导师审查完毕并手动将状态修改为此。只有处于此状态的故事才能被dev代理执行。
    
- **InProgress (开发中)**: dev代理开始执行故事任务时，会自动将状态更新为此。
    
- **Review (待审查)**: dev代理完成所有任务后，会将状态更新为此。这标志着开发工作已完成，等待导师或qa代理的最终验收。
    
- **Done (已完成)**: 故事通过最终验收，满足所有"完成的定义"后，由导师或qa代理更新为此最终状态。
    

### 6.3 系统级"完成"的定义 (Definition of "Done")

一个故事只有在满足以下所有条件时，才能被最终标记为 Done：

- ✅ 所有在故事中定义的任务/子任务均已完成。
    
- ✅ 所有验收标准 (Acceptance Criteria) 均已得到满足和验证。
    
- ✅ dev代理已在故事文件中记录了所有被创建或修改的文件列表。
    
- ✅ 故事的实现没有导致system_integrity_checklist.md中的任何一项检查失败。
    
- ✅ 故事文件本身的 Status 字段已被更新为 Done。