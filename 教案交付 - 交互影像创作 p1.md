






Tools 相关总结: [[RealTime 3D creation Tool]]


---


**交互影像创作：常用软件类别**

交互影像创作领域有很多软件选择，大致可以分为几类：

- 视觉编程环境
- 创意编码框架
- 行业引擎

---

## 1. Visual Programming Environments

**一、视觉编程环境**

*   节点式编程，无需代码。
*   直观易懂，适合视觉艺术家和设计师。

---

**1.1 TouchDesigner**

*   实时视觉开发平台。
*   节点系统完善。
*   擅长实时视频流数据(音频有待提高)。
*   用于互动装置、舞台视觉。

![bg fit left:50% vertical](https://i.imgur.com/e3bShza.webp)

(Source: [youtube.com:  TouchDesigner GLSL Glitch - YouTube](https://youtu.be/DJckEpa3-fI?t=66))

---


**1.2 vvvv (Veevv)**

*   视觉编程平台，类似 TouchDesigner。
*   节点式编程 +  C#。
*   处理复杂互动逻辑 。
*   欧洲互动艺术领域流行(法兰克福)。

![bg fit left:50% vertical](https://i.imgur.com/AZhJBac.webp)

---


**1.3 Max/MSP/Jitter**

*   视觉编程环境，历史悠久。
*   音频处理强大。
*   Jitter扩展视频图像处理。
*   用于互动影像创作。

![bg fit left:50% vertical](https://i.imgur.com/g9ih9pe.webp)

---

## 2. Creative Coding Frameworks

**2. 创意编码框架**

* 侧重于数字生成过程的逻辑.
* 需要编程基础。
*   定制更定制化的互动效果。
*   灵活，扩展性高。

![bg fit left:50% vertical](https://i.imgur.com/l9f3CVw.webp)

---


### openFrameworks

*   C++ 框架。
*   性能优秀，适合互动应用。
*   曾经流行，成熟。
*   曾经社区庞大，资源丰富。

![bg fit left:50% vertical](https://i.imgur.com/V8cdOT2.webp)

![bg fit left:50% vertical](https://i.imgur.com/A7r1xl6.webp)


---

### Processing

*   入门简单，适合初学者。
*   Java 框架。
![bg fit left:50% vertical](https://i.imgur.com/6aBu31Z.webp)


![bg fit left:50% vertical](https://i.imgur.com/imFUfIH.webp)


---

JavaScript 版本` p5.js`, 可在网页运行。

![bg fit left:50% vertical](https://i.imgur.com/Zcsng9u.webp)


---


### Daniel Shiffman 

![bg fit left:50% vertical](https://i.imgur.com/krWoYTp.webp)
Shiffman 认为代码是**创造力的工具**(~~生产工具~~)，可以用来模拟自然系统和探索新的艺术形式[@2012shiffmanNatureCode].。

---


## 3.General  Engine

**3. 行业通用引擎** 

有些通用的多媒体软件，虽然不是专门为互动影像设计，但通过插件或脚本扩展，也能实现一定的互动功能。

---


![bg fit left:50% vertical](https://i.imgur.com/Nh8eZDi.webp)


### Unity 和 Unreal Engine

*   主要用于游戏开发。
*   用于互动装置、VR 和 AR 项目。
*   3D 渲染强大。
*   互动逻辑编辑器可用。
*   插件和编程实现复杂互动效果。

---


### Resolume Arena

*   Resolume Arena，专业 **VJ** 软件。
*   用于现场演出和 VJ 表演。
*   插件, **模板**轻松的互动控制。
*   适合快速搭建和现场控制。
![bg fit left:50% vertical](https://i.imgur.com/MAkeqdE.webp)


---




### Radio Jockey (or RJ) 无线电主持人

*   无线电主持人 (RJ) 在广播节目中娱乐听众。
*   他播放音乐，传递新闻，与听众聊天，管理竞赛，采访嘉宾。
* 
![bg fit left:50% vertical](https://i.imgur.com/AGfMkF2.webp)


---


###  Disc Jockey (or DJ) 唱片骑师

*   唱片骑师 (DJ) 混音各种音乐。
*   他们在俱乐部，派对，现场表演，迪斯科舞厅播放。
![bg fit left:50% vertical](https://i.imgur.com/ZsAKCcD.webp)

---


### Video Jockey (or VJ) 视频骑师

*   视频骑师 (VJ) 在商业音乐电视台介绍和播放视频。
*   DJ 主要负责音频，VJ 主要负责视频。
![bg fit left:50% vertical](https://i.imgur.com/F9wP4FE.webp)




---

### 视觉, 听觉, 语言 制造情绪




---


### Notch

*   定义：实时图形创作工具。
*   特点：高质量渲染，易用。
*   领域：VFX 视觉项目。
*   场景：广告，音乐会，品牌体验。
![bg fit left:50% vertical](https://i.imgur.com/0nm36cM.webp)

---

## Houdini

电影级的VFX特效
![bg fit left:50% vertical](https://i.imgur.com/AqH31Uv.webp)

  * 定位：业界标杆级VFX制作软件
  * 特色：电影级视觉特效能力
  * 1980年代：PRISMS软件诞生
  * 1990年代中期：演变为Houdini

  
---


  ###   一个**实时的、交互式的 Houdini**
  TouchDesigner 专注实时交互，而Houdini主攻电影特效。
  * 2000年：TouchDesigner项目启动
  * 核心架构：源自Houdini
  * 工作流程：节点式系统, 丰富的接口支持
  * 技术重点：一个**实时的、交互式的 Houdini** 
  

  ### 应用领域
  
  * 互动艺术装置
  * 实时音视频表演
  * 舞台视觉设计
  * 数据可视化项目
  * 交互界面原型

---





### TouchDesigner 的优势🚩

*   处理大量视频数据。
*   兼容行业标准和硬件。
*   交互扩展性良好。

### TouchDesigner 的挑战

*   音频处理是挑战。
*   优化是挑战。
*   文档方面需要自主学习。




---





## **选择建议:**

- **入门级/快速原型:** Processing, Isadora
- **视觉艺术家/设计师:** TouchDesigner, vvvv, Max/MSP/Jitter
- **程序员/需要高度定制:** openFrameworks, Cinder
- **3D 互动/游戏引擎:** Unity, Unreal Engine
- **VJ/现场演出:** Resolume Arena
- **高端视觉/广告:** Notch



---



# TouchDesigner 硬件与标准兼容性概览


---

## 1：核心硬件支持
- GPU兼容：支持NVIDIA/AMD/Intel，建议4GB+显存
- 基础输入设备：键鼠、触控、游戏手柄
- 专业输入：MIDI控制器、Kinect、深度传感器
- 视频采集：网络摄像头、专业采集卡

![|200](https://i.ytimg.com/vi/VTyU6rq6hrM/hqdefault.jpg)
(Source: [youtube.com:  Kinect Interactive Installation Masterclass | Unreal Engine 5 & TouchDesigner [Trailer] - YouTube](https://youtu.be/VTyU6rq6hrM?t=3))

---


## 2：显示输出系统
- 标准显示：计算机显示器、投影系统
- 专业设备：Blackmagic/AJA视频卡
![bg fit left:50% vertical](https://i.imgur.com/6rPLMRD.webp)


---


## 3：广电行业标准
- NDI：网络视频传输协议
- SMPTE时间码：精确同步系统
- OpenColorIO：专业色彩管理
![bg fit left:50% vertical](https://i.imgur.com/3OO6sR7.webp)
---


## 4 舞台与艺术应用
- 照明控制：DMX/Art-Net/sACN
- 应用场景：剧院、演唱会、装置艺术
![bg fit left:50% vertical](https://i.imgur.com/jXErjtN.webp)

(Source: [youtube.com: Chop/ Controlling DMX lights with TouchDesigner - YouTube](https://youtu.be/E8MiL2ilt8w?t=615))

---


## 5 音频集成方案
- Ableton Link：音乐同步
- OSC：开放声音控制
- MIDI：数字乐器接口
es: 通过OSC协议连接TouchDesigner和Max 8，实现两软件之间的数据传输，从而控制音频和视觉元素
![bg fit left:50% vertical](https://i.imgur.com/hZUxMc7.webp)

---

	
## 6 工业控制协议
- 网络：TCP/IP、UDP
- 工业：串口通信、Modbus
- 物联网 (IoT) ：MQTT协议支持
![bg fit left:50% vertical](https://i.imgur.com/F356a2O.webp)



---



## 1.课程介绍

交互影像创作是一门结合设计,技术与艺术思维的课程。简单来说，它是教你如何设计一个可以和人互动的装置，这个装置能够通过影像来表达信息，像一个有逻辑、有界面、有反馈的工具。

从设计的角度看，你需要理解用户为何使用这个工具，因此你的设计是让它如何回应用户的行为。但在艺术创作中，我们要深入得多。艺术家不仅仅在乎工具的功能，还会追求更有创造性的表达，探索这个工具对人、对社会的深远影响。



![bg fit left:50% vertical](https://i.imgur.com/JTWxex9.webp)

---

### 软件安装与注册

TouchDesigner的下载、安装与授权流程
https://derivative.ca/download

![bg fit left:50% vertical](https://i.imgur.com/71shAKN.webp)


---


- 开放95% 以上的功能进行免费试用
- 限制输入和输出最大分辨率为1280*1280

![bg fit left:50% vertical](https://i.imgur.com/tNNDPex.webp)


---

用户界面

A 参数窗口
B 时间轴
D 插件区
E 可视化编辑区
C 控制选区

![bg fit left:50% vertical](https://i.imgur.com/bYb0RIa.webp)  


---

### TouchDesigner界面功能

---



#### **A 参数窗口** (Parameter)
1. 帮助：打开元件的维基帮助文档。
2. Python帮助：打开元件的Python帮助页面。
3. 元件信息框：显示此元件的相关信息。
4. 显示标签：显示并编辑元件的标签。
5. 注释：显示并编辑元件的注释。
6. 显示复制参数：显示右键菜单中复制的参数。
7. 语言：选择Python或Tscript作为脚本语言。
8. 展开/折叠参数：展开或折叠所有元件参数。
9. 非默认参数：仅显示修改过默认值的参数。

![bg fit left:40% vertical](https://i.imgur.com/2Ai6A1M.webp)  




---

按“P”键或右击元件选择参数（Parameter）


---


#### B 时间轴

底部的时间轴让你控制播放、暂停和定位。按下空格键即可播放或停止。左侧的时间条显示项目的帧率。通过设置开始帧和结束帧，可以在特定区间播放动画。FPS可锁定在特定值。

![时间轴](https://i.imgur.com/rzSpByQ.webp)

---

![bg  left:35% vertical](https://i.imgur.com/889Gd3S.webp)

##### 时间控制
- **Start**：时间线的起始帧。
- **End**：时间线的结束帧。
- **RStart和REnd**：通过时间轴上的控制柄调节循环播放区域。
- **FPS**：每秒帧数，决定渲染速度。默认60 FPS，可在时间轴左侧区域调整。
- **Tempo**：BPM（每分钟节拍数）**，供Beat CHOP使用。
- **ResetF：** 重置时间线至第1帧。
- **T Sig：** 拍号。


---


#### C 控制选项区域

通过**Layout**调整视窗和布局，方便多任务时查看整体效果和层级状态。

![控制选项区域](https://i.imgur.com/oYWxB2F.webp)

---


##### 功能按键
1. **WIKI**：TouchDesigner维基页面
2. **FORUM**：官方论坛
3. **TUTORIALS**：官方教程
4. **FPS**：帧率（每秒帧数）
5. **Perform Mode**：表演模式
6. **Palette**：插件区

---

####  D插件区

插件区提供官方认证的综合工具，包含音频分析、VR接入、用户界面等模块。拖入即可使用。

![bg fit left:50% vertical](https://i.imgur.com/lA3CLOh.webp)


---

#### E 可视化编辑区

![bg fit left:50% vertical](https://i.imgur.com/RUdmJX7.webp)

---

- **添加元件**：右键点击输出端
- **解除关联**：右键点击连线，选择Disconnect

![bg fit left:50% vertical](https://i.imgur.com/2kSsBxY.webp)
![bg fit left:50% vertical](https://i.imgur.com/yAgucYj.webp)


---



## 4. 创建操作符（Creating Operators）

- 每个操作符执行**特定任务**
- **组合多个操作符链接在一起形成"网络"** 执行**复杂任务**

![bg fit left:50% vertical](https://i.imgur.com/WNjuAOI.webp)


---


### 4.1 创建操作符的两种方法

- Tab 键快捷创建
- 网络背景双击创建
![bg fit left:50% vertical](https://i.imgur.com/sGHXo8H.webp)

---


### 4.2 高效创建技巧

- **快速搜索**：使用Tab键打开对话框后，直接输入操作符名称的一部分即可快速筛选
- **模糊匹配**：不需要输入完整名称，系统会自动匹配最相关的操作符
- **键盘确认**：找到所需操作符后，直接按Enter键确认，无需使用鼠标点击
- **多匹配项**：当输入内容匹配多个操作符时（如输入"movie"会匹配"Movie File In"和"Movie File Out"），可以继续输入更多字符缩小范围

![bg fit left:50% vertical](https://i.imgur.com/toerSdR.webp)


---

 在现有链中添加操作符
  
 1 右键点击方法
  - 在输入/输出端口右键
  - 新操作符自动连接到现有链中
  - 适用场景：在两个操作符之间插入新节点
  
![bg fit left:50% vertical](https://i.imgur.com/hR7ZvUJ.webp)

![bg fit left:50% vertical](https://i.imgur.com/VGxFd4g.webp)

---


2 中键点击方法
  - 在操作符输出端口中键点击
  - 创建平行分支
  - 不影响现有操作链
  ![bg fit left:50% vertical](https://i.imgur.com/Yl5AwgR.webp)

---


3 连线操作
  - 右键点击连线
    * "Insert Operator": 集成到当前链
    * "Add Operator": 创建平行分支
  
![bg fit left:50% vertical](https://i.imgur.com/nXGdNmO.webp)


---


  ## 4. 快捷键组合
  ### 4.1 Control /Shitf 键功能
  - 按住 Control/Shitf 选择多个操作符
  - 垂直排列创建
  - 适合快速布局多个独立操作符

![bg fit left:50% vertical](https://i.imgur.com/gzNruJF.webp)


---


  ### 4.2 Shift 键功能
  - 按住 Shift 选择多个操作符
  - 自动串联连接
  - 适合快速创建操作符链
  ![bg fit left:50% vertical](https://i.imgur.com/JRxX2m8.webp)

---


  ### 4.3 组合使用示例
  1. 创建第一链：Circle TOP → Blur TOP → Null TOP
  2. 创建第二链：Circle TOP → Edge TOP → Noise TOP → Null TOP
  3. 创建第三链：Movie In TOP → Blur TOP → Null TOP





---


### 5.5 Networks and Paths 网络和路径

#### 网络与组件
- 所有 TouchDesigner 项目都由 **网络** 构成。
  - **网络** 是一组操作器（Operators）。
  - 网络封装在组件中，如 **Container COMP**、**Base COMP**、**Geometry COMP** 等。
  - 网络可以嵌套到无限深度。
  - 顶层网络被称为 **"根层"（root level）**。
  - TouchDesigner 系统和用户界面元素位于 **"根层"**。

---


#### 5.5.1 路径栏介绍
- 在项目开始时，对网络进行封装和组织是一种良好的实践。
- 当前路径始终显示在 **"路径栏"（Path Bar）** 内，位于 **网络编辑器（Network Editor）** 顶部。
![bg fit left:50% vertical](https://i.imgur.com/Y3Mdxrw.webp)


---

### 5.5.2 路径类型

所有 TouchDesigner 操作器都有路径：
  - **绝对路径**：从项目的 “根” 或 `/` 开始，指向特定操作器。
  ~~- **相对路径**：从一个操作器出发，指向另一个操作器的路径。~~
![bg fit left:50% vertical](https://i.imgur.com/EK7uWJ4.webp)



---

![bg fit left:50% vertical](https://i.imgur.com/lLIMltF.webp)


---


### 5.4 键盘操作
- **重要快捷键：**
  - 按下 **‘u’**：返回上一层网络，退出当前组件。
  - 按下 **‘i’**：进入选中的网络或组件（如 Container COMP 或 Base COMP）。
  - 按下 **‘h’**：将屏幕集中显示网络中的所有操作节点，执行当前网络的“Home”操作。
---

---


- TouchDesigner 的核心概念，基于节点的可视化编程环境。
- 通过连接节点（Operators）来创建交互式媒体作品

![bg fit left:50% vertical](https://i.imgur.com/WNtcdOC.webp)


---




1. **TOP**：图像与视频处理  
2. **CHOP**：数据流操作  
3. **SOP**：3D模型编辑  
4. **MAT**：材质属性设置  
5. **DAT**：多形式数据处理  
6. **COMP**：组件容器与管理  


---


#### 1. TOP：图像处理与视频解析
> **TOP（Texture Operator，纹理操作器）**  
- 处理二维图像和视频  
- 功能：生成、处理、合成、渲染  
- **核心作用**：图像生成与处理  

**关键功能**  
- 图像合成  
- 视频解析  
- 渲染输出  

![bg fit left:50% vertical](https://i.imgur.com/63lxxpM.webp)


---

#### 2. CHOP：数据处理与通道操作
> **CHOP（Channel Operator，通道操作器）**  
- 处理流动数据  
- **特点**：生成、使用、集合数据  
- 每条数据变量为一个**通道**  

**关键功能**  
- 数据生成（LFO CHOP、Noise CHOP）  
- 数据控制（Math CHOP）  
- 数据流处理  
![bg fit left:50% vertical](https://i.imgur.com/FzmuZ5v.webp)

---

#### 3. SOP：3D模型制作与几何体操作
> **SOP（Surface Operator，表面操作器）**  
- 处理三维模型和几何体  
- **功能**：生成、编辑3D模型  
- **参数**：顶点、法线、曲面  

**关键功能**  
- 基本形状生成（球体、盒子）  
- 模型参数编辑  
- CPU计算为主  
![bg fit left:50% vertical](https://i.imgur.com/hw17ViY.webp)


---

#### 4. MAT：材质操作
> **MAT（Material Operator，材质操作器）**  
- 为3D物体提供材质属性  
- **属性**：颜色、光泽度、反射率  
- **动态贴图**：影片、视频  

**关键功能**  
- 材质属性设置  
- 动态贴图应用  


![bg fit left:50% vertical](https://i.imgur.com/eqyTPIC.webp)

---

#### 5. DAT：数据操作
> **DAT（Data Operator，数据操作器）**  
- 处理文本和数据  
- **支持形式**：文本、表格、Python、XML、JSON、MIDI、Serial、OSC  
- **功能**：文件导入/导出、网络通讯、触摸交互  

**关键功能**  
- 多种数据形式支持  
- 文件与网络操作  

![bg fit left:50% vertical](https://i.imgur.com/thUlKq0.webp)

---

#### 6. COMP：组件操作
> **COMP（Component Operator，组件操作器）**  
- **容器元件**，可嵌套其他元件  
- **功能**：整理、分类元件  
- **窗口显示与渲染**的必要条件  

**子类**  
- 3D Objects  
- Panels  
- Other  
- Dynamics COMP  

![bg fit left:50% vertical](https://i.imgur.com/8UidknK.webp)

---


#### **元件解构案例 Operator Snippets**

元件解构案例 Operator Snippets 位于 Help 菜单，是 TouchDesigner 自带的元件解释库。在 Operator Snippets 中,开发团队以精简的示例演示了元件的使用方式，非常直观便于理解。大多数元件都有相关的 Demo 演示和相关解释。  

![bg fit left:50% vertical](https://i.imgur.com/KUTUHGw.webp)
![bg fit left:50% vertical](https://i.imgur.com/eG9ZPGj.webp)  



---


## 3. TouchDesigner 信号流与连接

- 操作符（Operator）连接是TouchDesigner最基本的操作。
- 所有项目仅由操作符组相互连接组成。
  - 每个操作符完成特定任务。
  - 多个操作符结合成"网络（Network）"，可解决极其复杂的问题。

![bg fit left:50% vertical](https://i.imgur.com/fzHnWLu.webp)

---



![bg fit left:50% vertical](https://i.imgur.com/NHRPzkr.webp)

### 数据流向规则
* 数据流动方向：基于Operator 从左至右的原则
  - **输入**："进水口", 操作符的输入接口始终在左侧。
  - **输出**："出水口", 操作符的输出接口始终在右侧。
- 输入和输出按顺序排列，遵循从**上到下**的顺序。

  - 示例：跟随左侧开始的两个信号，从左到右流动，逐步组合叠加。
---

### 3.1 操作要点
* 模块间通过连线传递数据
* 确保正确连接输入输出端口
* 注意信号流向的一致性
* 合理规划模块布局和连接方式

---



## 使用TOPs（纹理操作符）

![bg blur](https://i.imgur.com/wxuGyaX.webp)

---

![bg fit ](https://i.imgur.com/wxuGyaX.webp)

---

Sources:

[[ source- Working with TOPs (Texture Operators)]]

https://www.youtube.com/watch?v=xsXBO6JQVWU&list=PLpuCjVEMQha9rjhDET3uuE0T3UeIcROJu&index=11
![TOP操作符示意图](https://i.ytimg.com/vi/xsXBO6JQVWU/hqdefault.jpg)

---

## 实践目的

- 链式合成方法, 逐步构建复杂的排版能力
- 同时保持网络的清晰和可控性。
- 应用场景,例如**动态海报**

---


## 图像处理流程

![bg fit left:50% vertical](https://i.imgur.com/0JK4Etz.webp)

---


### 1. Movie File IN TOP
- **功能**：图像加载与预处理
- **创建方式**：
  1. `双击`网格 → 选择操作符
  2. `Tab`键 → 输入"movie" → 选择类型
![bg fit left:50% vertical](https://i.imgur.com/DZqgxxU.webp)
![bg fit left:50% vertical](https://i.imgur.com/rZzeow2.webp)


---

- **参数优化**：
  - 检查分辨率（中键点击查看）


![bg fit left:50% vertical](https://i.imgur.com/5JmfSO9.webp)


---


  - 调整查看器尺寸匹配图像比例

![bg fit left:50% vertical](https://i.imgur.com/LeqCYMq.webp)


---


  - 使用`Null TOP`作为流程检查点


---


- 合理设置显示标志(Display Flag)

![bg fit left:50% vertical](https://i.imgur.com/QMv2uyn.webp)


---
### 2. Text TOP
- **创建方式**：
  - `Tab` → 输入"text" → 回车

---


- **分辨率设置**：
  - 默认 256×256 → 修改为实际需求尺寸
  - 使用`Value Ladder`快速调整（中键拖拽Y轴参数）

![bg fit left:50% vertical](https://i.imgur.com/RoCMDEB.webp)

---


- **批量编辑**：
  1. `Shift`+点击选择多个Text TOP
  2. 修改任一颜色/字体参数 → 同步更新
---


#### 创建文本

在 TouchDesigner 中创建文本非常简单：
1. 双击空白区域打开操作符创建对话框选择 Text TOP
2. 或者更快的方式：按 Tab 键，输入 "text"，然后按 Enter


---

#### 调整文本分辨率

1. 找到 Common 参数页面
2. 默认情况下，Text TOP 的分辨率是 `256×256`
3. 可以修改分辨率为更适合的值
   - 例如，对于横幅文本，512×100 可能更合适
![bg fit left:50% vertical](https://i.imgur.com/dUqw3OX.webp)


---
#### 批量修改多个文本

当你需要同时修改多个 Text TOP 的属性时：

1. 选择第一个 Text TOP
2. 按住 Shift 键并点击其他 Text TOP
3. 修改其中一个的参数（如颜色）
4. 所有选中的 Text TOP 都会同时更新

例如，如果你想将所有文本颜色改为红色，只需在其中一个的颜色选择器中点击红色，所有选中的文本都会变成红色！
![bg fit left:50% vertical](https://i.imgur.com/Ac6UWZB.webp)
![bg fit left:45%](https://i.imgur.com/dUqw3OX.webp)

---

### 合成工作流(Constant, Over)


- 使用 **Constant TOP** 创建特定分辨率的画布，
- 并使用 **Over TOP** 进行简单合成，
- 通过调整 `pre-fit overlay` 和 `justify` 参数进行精确定位 。

---
#### 使用Constant TOP创建画布

Constant TOP:
- 作为其他图像处理的基础图层, 提供了一个"干净的画布"(纯红色的背景)进行合成
- 可以精确设置任何分辨率的画布
- 能够控制背景颜色和透明度

![bg fit left:50% vertical](https://i.imgur.com/59BfLdf.webp)


![bg fit left:50% vertical](https://i.imgur.com/Th6FmTj.webp)

---

#### 使用Over TOP进行简单合成

Over TOP是TouchDesigner中最常用的合成操作符之一，它允许你将一个纹理叠加到另一个上面。

![bg fit left:50% vertical](https://i.imgur.com/oUfEIIj.webp)
![bg fit left:50% vertical](https://i.imgur.com/U5FmG4t.webp)

---


关键参数设置:

- **Fixed Layer**: 决定哪个input (输入)将提供基础分辨率（通常设为input 2）

---

**Pre-fit Overlay**: 控制如何处理不同分辨率(长高比)的纹理

- `Native Resolution`: 保持原始分辨率，不拉伸
- `Fill`: 拉伸填满整个画布（默认值）
- `Fit Horizontal`（水平适配）
- `Fit Vertical`（垂直适配）
- `Fit Best`（最佳适配）
- `Fit Outside`（外部适配）
 
---



- **Justify**: 控制Texture(纹理)在画布上的对齐方式
  - 水平: Left, Center, Right
  - 垂直: Top, Center, Bottom

- **Translate**: 在对齐后进行精确位置调整（可以设置为像素或小数单位）

![bg left:35% vertical](https://i.imgur.com/Z8urKpZ.webp)

---

### Composite TOP 合成技巧
- 处理多个图层合成
- 并通过调整 `fixed layer`和 `pre-fit overlay` 参数来控制图层位置与大小。
- [记住]将合成输出用作后续合成的基础层 。

---
#### 创建背景 

![bg fit left:50% vertical](https://i.imgur.com/dc6TVg1.webp)

---

允许多个输入 
![bg fit left:50% vertical](https://i.imgur.com/Fcxz3Ei.webp)
![bg fit left:45%](https://i.imgur.com/oUfEIIj.webp)
![bg fit left:45%](https://i.imgur.com/Z8urKpZ.webp)

#### 从"multiply"切换到"over"操作

- 默认的合成操作是"multiply"（乘法/叠加）。
- 乘法操作会导致所有内容都变成黑色。

---

要解决这个问题：
1. 在Composite TOP的参数面板中找到"operation"选项
2. 将其从默认的"multiply"更改为"over"
3. 这样你的图层就会按照正常的叠加方式显示


![bg fit left:50% vertical](https://i.imgur.com/QlO1dEv.webp)

---


#### Fixed Layer（固定图层）

Fixed Layer 参数决定了哪一个输入将作为基础层，并且决定最终输出的分辨率：

- 通常你会希望将背景画布设为固定图层
- 在Composite TOP中，可以通过"Transform"页面中的"Fixed Layer"选项来设置
- 也可以通过重新排列输入的顺序来调整（使用参数底部的Input OP区域中的箭头按钮）
	
![bg fit left:50% vertical](https://i.imgur.com/pGjd0OW.webp)
![bg fit left:50% vertical](https://i.imgur.com/wMwUzjA.webp)


---
### Pre-fit Overlay（预适配叠加层）

这个参数控制非固定图层如何适应固定图层的大小：

- "Fill"（填充）：会拉伸图像以填满整个画布（通常不是我们想要的）
- **"Native Resolution"（原生分辨率）：保持图像原始大小，不进行拉伸**
- 还有其他选项如"Fit Horizontally"（水平适配）、"Fit Vertically"（垂直适配）等

![bg fit left:50% vertical](https://i.imgur.com/AJysTps.webp)


---
## 实用定位技巧

设置好合成操作和预适配后，你可以使用以下方法精确控制图层位置：

**"Justify"（对齐）** 选项控制图层的基本位置：
   - 可以设置水平对齐（左、中、右）
   - 可以设置垂直对齐（上、中、下）

**"Translate"（平移）** 参数进行微调：
   - 记得将单位从默认的"F"（分数，0-1范围）改为"pixels"（像素）
   - 这样可以更直观地控制位置偏移
![bg fit left:40% vertical](https://i.imgur.com/Si6iQd3.webp)


---


## 构建复杂合成的工作流程

当处理多图层合成时，记住这个重要原则：**将前一个合成的输出用作下一个合成的基础层**。

例如，如果你要叠加三个元素：
1. 首先将元素1合成到背景上
2. 然后将元素2合成到"元素1+背景"的结果上
3. 最后将元素3合成到"元素1+元素2+背景"的结果上


---


### TIPs: Null操作符的重要性
在复杂Network(网络)中使用 **Null TOP**操作符作为检查点，
- 作为重要工作流最后的总结
- 作为后续工作流的引用

![bg fit left:50% vertical](https://i.imgur.com/0YPIcU3.webp)
![bg fit left:45%](https://i.imgur.com/QlO1dEv.webp)
![bg fit left:45%](https://i.imgur.com/pGjd0OW.webp)



### 利用显示标记
使用 TOPs 上的 "display flag"（显示标记）功能，使操作符的纹理作为网络背景显示，以便在调整过程中获得即时视觉反馈 。
![bg fit left:50% vertical](https://i.imgur.com/WlCNmUM.webp)

---


### Alpha通道处理
在使用 Constant TOP 创建画布时，将 alpha 通道设置为零，以避免合成过程中出现黑色背景 。
![bg fit left:50% vertical](https://i.imgur.com/Tq2BlfO.webp)

![bg fit left:50% vertical](https://i.imgur.com/11uA46w.webp)

---


## 总结

![TOP操作符示意图](https://i.ytimg.com/vi/xsXBO6JQVWU/hqdefault.jpg)

### 本节学习的核心操作符

- **Movie File In TOP** - 导入图像文件
- **Text TOP** - 创建和编辑文本
- **Constant TOP** - 创建纯色背景画布
- **Over TOP** - 基础图层叠加合成
- **Composite TOP** - 多输入高级合成
- **Null TOP** - 创建网络检查点

---


### 重要技巧

- 使用操作符优化视图尺寸
- 调整分辨率和对齐方式
- 多元件同时编辑参数
- 使用像素单位进行精确定位
- Display Flag显示标志的应用

---


## 工作流程

1. 导入素材和创建文本
2. 使用Constant TOP创建画布
3. 通过Over TOP和Composite TOP合成图层
4. 添加Null TOP作为网络检查点
5. 使用Display Flag预览结果

---

END

![bg fit](https://i.imgur.com/0YPIcU3.webp)

---


[[Source - TouchDesigner全新交互设计及开发平台-318]] 2.2 Feedback Loop 反馈循环

---
## 实验1：Feedback Loop 反馈循环
### Feedback TOP(反馈循环)是

* 无限循环的“复印”过程。
* 创造**拖尾、缓动、无限循环**等视觉效果的核心。

![bg fit left:50% vertical](https://i.imgur.com/aWj4T1e.webp)

![bg fit left:50% vertical](https://i.imgur.com/u3c9Xd4.webp) 



---

ES:  类似烟雾、水流等效果的基础（粒子系统 + Feedback Loop）。

![bg fit left:50% vertical](https://i.imgur.com/XI7ub99.webp)

(Source: [youtube.com: (7) Generative Art with TouchDesigner: Feedback - TouchDesigner Tutorial 186 - YouTube](https://youtu.be/0o_NoWTi6oo?t=6))

![|200](https://i.ytimg.com/vi/3pAcTayMloo/hqdefault.jpg)
(Source: [youtube.com: (7) melty UV in Touchdesigner - YouTube](https://youtu.be/3pAcTayMloo?t=1))

---
### 1.导入素材 & 旋转

 - 用 `Movie File In TOP` 导入一张图片（或者视频）。
- 用 `Transform TOP` 让图片旋转起来。 
	- `Rotate` 参数：使用表达式 `absTime.frame` (动态旋转)。
		- `absTime.frame` 的值表示工程文件到当下所经过的帧数，
		* `absTime.seconds` 的值表示工程文件到当下所经过的秒数。


![images/1007f7dbffe0cd4b987318069f9eda4c055a2650e66360d0f64cbb886be9f0bb.jpg](https://i.imgur.com/RZN1zfj.webp) 

---

### 2.AChrome

- 用 `Monochrome TOP` 把图片变成黑白的。
![bg fit left:50% vertical](https://i.imgur.com/V2pLRmN.webp)

---

### 3.提取差异

`Difference TOP` 
* 颜色相同的部分显示为黑色
- 颜色不同的区域会显示白色；
* 颜色差距越大，输出的白色区域越亮。

![bg fit left:50% vertical](https://i.imgur.com/xWNY8Fl.webp)


---


* 方法1`Difference TOP` 的 `Rotate` 偏移参数设置为 3。
* 方法2 输入两个素材, 在其中一个素材es: `Transform TOP2` 的`Rotation` 增加延迟

![bg fit left:50% vertical](https://i.imgur.com/Cxmh4dc.webp) 

![bg fit left:50% vertical](https://i.imgur.com/B0KSO1j.webp)


---


### 4.开始“复印”(Feedback TOP)


**概括理解 Feedback Loop**
循环“复印 -> 储存/叠加”的过程

```
一般的处理方式
原料 -> 特殊加工 -> 结果

Feedback Loop 处理方式: 
原料 -> 特殊加工 -> 结果(参数说明叠加方式)
```

![bg fit left:50% vertical](https://i.imgur.com/fCsjBDj.webp)

---

Feedback Loop 常用搭配:

1. **`Composite TOP`** 的  `Operation`参数设置为 Add (叠加模式, 图像一直积累在结果的画布上)。

2. **`Feedback TOP`** : 的`Target TOP` 参数指向 `Composite TOP` (建立反馈连接)


![bg fit left:50% vertical](https://i.imgur.com/IdFnJl3.webp)



---



### 5.让“复印件”的特殊加工

在 `Feedback` 循环里加入 `Level TOP`，
 - `Opacity`(不透明度): 调低一点点。

```
每次“复印”的图像都会比上一次更透明，就能做出拖尾的效果。
```


---

加入 `Blur TOP
 - `Filter Size`：模糊的程度。数值越大，图像越模糊。
 - `Sample Step`：模糊拉伸的程度。

```
每次“复印”的图像更模糊一点，拖尾效果会更柔和。
```

---


回顾Feedback

![bg fit left:50% vertical](https://i.imgur.com/fCsjBDj.webp)

![bg fit left:50% vertical](https://i.imgur.com/91ddafi.webp)

---

### 6.上色(霓虹灯效果)

 - 用 `Lookup TOP` 和 `Ramp TOP` 给图像上色。
 - `Ramp TOP` 可以创建漂亮的渐变色.
 - `Lookup TOP` 则根据图像的亮度把渐变色“贴”上去。


![bg fit left:50% vertical](https://i.imgur.com/6qN3Ua0.webp)
![bg fit left:50% vertical](https://i.imgur.com/Yxsrsjk.webp)

---

[[More Than Meets the Eye - Maurizio Nannucci 1980]]

![bg fit left:50% vertical](https://i.imgur.com/3zog4fn.webp)

《More than Meets the Eye》是意大利艺术家 Maurizio Nannucci 创作的一件引人注目的霓虹灯装置作品。


---


## 实验2

[[PPT - EX - Dynamic lighting effects (Feedback Loop)_2_Video]]
Difference TOP 通过视频帧率检测差异获取信号
不再使用Transform 动画制作动效, 而是使用视频中的活动的像素

---

### 1. 视频素材准备

- 使用 `Movie File In TOP` 导入动态视频
- 通过 `Video Device In TOP` 连接实时摄像头（可选）
- 设置分辨率匹配源素材（建议1080p或4K）

---


### 2. 创建视频流缓存
1. 添加 `Cache TOP` 节点
2. 配置缓存参数：
- **Cache Size**：30（保留最近30帧）
- ~~**Index Method**：Frame Offset（帧偏移模式）~~

---
3. 创建两条视频流：
- `Cache Select1`, `Index` = 0（实时帧）
- `Cache Select2`, `Index` = -10（10帧前历史）

![bg fit left:50% vertical](https://i.imgur.com/cGamyJZ.webp)

---


```python
# TD表达式实现动态偏移
op('cacheselect1').par.index = 0
op('cacheselect2').par.index = -absTime.frame % 30
```

---

### 3. 动态差异检测

1. 连接 `Difference TOP `：
   - Input0 → `Cache Select1`
   - Input1 → `Cache Select2`

![bg fit left:50% vertical](https://i.imgur.com/Nxfhtz2.webp)

---

### 4. 构建视频反馈系统(闪烁效果)

1. 创建 `Composite TOP` 设置为 Add 模式
2. 添加 `Feedback TOP` 连接至 Composite
3. 使用 `Level TOP` 提亮差异区域：Post > Opacity ：0.9
4. 使用`Blur` , Filter Size: 5
![bg fit left:50% vertical](https://i.imgur.com/lsmlyvh.webp)


---

### 5. 合成最终效果

将实时视频流与反馈特效结合，创造动态叠影

1. 创建 `Composite TOP2` 作为最终输出节点
2. 参数设置：
   - **Background** → `cacheselect1`（原始视频流）
   - **Operation** → Add（叠加模式）
3. 连接反馈特效到 `Composite TOP2` 的**Foreground**输入
   - `Difference TOP` → `Level TOP` → `Blur TOP` → `Composite TOP2`


![](https://i.imgur.com/7CtMrnX.webp)

---

Blending modes 

![bg fit left:50% vertical](https://i.imgur.com/EAbmTVd.webp)
![bg fit left:50% vertical](https://i.imgur.com/TrGQg8n.webp)

(Source: [adobe.com: Blending modes in Adobe Photoshop](https://helpx.adobe.com/photoshop/using/blending-modes.html))

---


Wolla!!
![bg fit left:50% vertical](https://i.imgur.com/LQsqIxf.webp)


---


### 6. 动态参数优化（进阶）

```python
# 添加随机动态变化
op('blur1').par.filter = absTime.seconds % 5 + 2  # 模糊强度2-7之间循环
op('level1').par.opacity = abs(math.sin(absTime.seconds)) * 0.5 + 0.3  # 透明度波动
```


---




# EX-Watercolor Effect(TouchDesigner)

[[Source-ex-WaterColor(TouchDesigner)]](Source: [youtube.com:  (7) TOUCHDESIGNER TUTORIAL - TURN ANY IMAGE INTO WATERCOLOR PAINTING - YouTube](https://youtu.be/9ynL-JckDkY?t=809)[youtube playlist](https://www.youtube.com/watch?v=XpvKQmQt6Tg&list=PLSovrPWjLMt7TBkWl2cNhONrnYF9qkM2v))

[aliyun.com: 06、第5节 晕染交互效果原理-效果与图片素材和摄像头的应用 - 通义听悟](https://tingwu.aliyun.com/doc/transcripts/gpjbqkgd4p3gnk2a)
(Source: [baidu.com: 百度网盘 - 视频播放](https://pan.baidu.com/pfile/video?path=%2F%E6%88%91%E7%9A%84%E6%95%99%E7%A8%8B%2F%E5%8D%97%E6%96%B9%E5%AD%A6%E9%99%A2%E8%AF%BE%E7%A8%8B%2F%E4%BA%A4%E4%BA%92%E5%BD%B1%E5%83%8F%E8%AE%BE%E8%AE%A1%2F1%E3%80%81%E3%80%90%E5%BC%95%E7%8E%89%E8%AF%BE%E5%A0%82%E3%80%91Touchdesigner%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%C2%A5529%2F06%E3%80%81%E7%AC%AC5%E8%8A%82%20%E6%99%95%E6%9F%93%E4%BA%A4%E4%BA%92%E6%95%88%E6%9E%9C%E5%8E%9F%E7%90%86-%E6%95%88%E6%9E%9C%E4%B8%8E%E5%9B%BE%E7%89%87%E7%B4%A0%E6%9D%90%E5%92%8C%E6%91%84%E5%83%8F%E5%A4%B4%E7%9A%84%E5%BA%94%E7%94%A8.mp4&theme=light&view_from=personal_file&from=home)) 

---

> 本课程将展示如何将任意图像转换为水彩画效果，包括高水稀释版本、细节保留版本以及带结构感的类油画效果。


![bg fit left:50% vertical](https://i.ytimg.com/vi/9ynL-JckDkY/hqdefault.jpg)


---
## 1. 准备项目素材

导入目标图像（风景或人像均可）

---

> [!tip]- 视频选择要点
> - 选择有明显运动变化的视频（如舞蹈、交通流）
> - 避免纯色背景或静态场景
> - 测试素材：[Pexels](https://www.pexels.com/) [Pixabay](https://pixabay.com/music/) 提供免费动态视频


![bg fit left:50% vertical](https://i.imgur.com/eQvlDIC.webp)

(Source: [freesound.org: Freesound](https://freesound.org/))  
![bg fit left:50% vertical](https://i.imgur.com/CgPO73s.webp)

(Source: [pixabay.com: Royalty Free Media Download - Pixabay](https://pixabay.com/music/))
![bg fit left:50% vertical](https://www.pexels.com/assets/static/images/meta/pexels-stock-photos.jpg)
(Source: [pexels.com: Free Stock Photos, Royalty Free Stock Images & Copyright Free Pictures · Pexels](https://www.pexels.com/))


---

## 1.2 工程规范管理

注意: 创作, 团队任务时, 大作业时(扣分项)
创建项目文件夹, 
![bg fit left:50% vertical](https://i.imgur.com/rpzw95v.webp)


---


工程目录架构
![bg fit left:50% vertical](https://i.imgur.com/3rg4xzK.webp)


---


按照规范放入素材

![bg fit left:50% vertical](https://i.imgur.com/pJ5d9tG.webp)

---

`FitTOP` 设置画布参数

- `Output Resolution`: Custom Resolution
- `Resolution`:
	- 720x1280 (社交媒体, 朋友圈, 小红书)
	- 1280x720+ (展览投影)

![bg fit left:50% vertical](https://i.imgur.com/wU0yQwe.webp)
![bg fit left:50% vertical](https://i.imgur.com/uQghO3X.webp)

---

 [Tips]  OP 中 Display 按钮
可将图像连接到背景以便观察效果变化
![bg fit left:50% vertical](https://i.imgur.com/Tvp6yZT.webp)


---


## 2. 基础纹理处理

### 添加 Noise Structure(噪点结构)

1. 添加 Comp TOP
2. 插入Noise TOP
3. 修改参数类型更改为Random GPU
4. 将噪点连接到Comp以生成基础纹理

![bg fit left:50% vertical](https://i.imgur.com/rTohoMv.webp)

---


### [[Noise(TOP_CHOP)]] 

![bg fit left:50% vertical](https://i.imgur.com/ABzjtIU.webp)

---

## 3. 添加Displace(位移效果)

### Displace 的第二个输入端(通道)

`Horizontal Source` 指定 Red 通道控制
`Vertical Source` 指定 Blue 通道控制

![bg fit left:50% vertical](https://i.imgur.com/aHbX1A0.webp)


---

#### Snippets 案例1 - 默认通道Red Blue

打开 `Operator Snippets` > Displace TOP 案例

- 调节 Red & Blue 观察
- 添加 `Blur` 理解, 连接扭曲与未扭曲像素

![bg fit left:50% vertical](https://i.imgur.com/4sNs3CZ.webp)


---

Model Coordinate (3D,xyz)
Texture Coordinate（2D, uv纹理坐标）
UV == xy 
![bg fit left:50% vertical](https://i.imgur.com/1qN32md.webp)


---

#### Snippets 案例2  - Displace -  Noise驱动解释

当输入Noise, 单色图时, 所有通道相同值,  
通过通道值(**R**,~~G~~,**B**,~~A~~ )控制源图像采样位置实现变形。 
- 黑: (**0**, ~~0~~ , **0**, ~~1~~) 驱动图像 **↙︎**(左下) 偏移；
- 灰: (**0.5,** ~~0.5~~, **0.5**, ~~1~~) 是位移基准，无变形；
- 白: (**1**, ~~1~~, **1**, ~~1~~)  驱动**↗︎**(右上)偏移；

![bg fit left:50% vertical](https://i.imgur.com/CpqPDeI.webp)


---

### 水纹动态运动(Noise + Displace )

1. Noise 连接 DisplaceTOP 
2. 确保输出分辨率与素材一致, 但不需要INPUT0(合成输入)的参与:
	- RGB = `Noise` (~~Inout+Noise~~)


![bg fit left:50% vertical](https://i.imgur.com/KuKpGPI.webp)

---

3. 缓慢的水纹动态运动
   - Noise Translate Z = `absTime.seconds * 0.01` 

![bg fit left:50% vertical](https://i.imgur.com/K7VcxT9.webp)

---

### 构建 Feedback 循环系统

#### 打印机: FeedbackTOP

#### 原材料: CompositeTOP(Null)

#### 结果: CompositeTOP

设置 Operation(操作模式)为 `Maximum`, 保留每帧最亮像素，形成水彩扩散效果

#### 处理加工: DisplaceTOP + NoiseTOP

`Displace TOP`的Displace Weight (位移权重) 为 0.001 


![bg fit left:50% vertical](https://i.imgur.com/g0TZ8Zl.webp)

![bg fit left:50% vertical](https://i.imgur.com/fCsjBDj.webp)

---

#### Composite - **Maximum** vs Minimum

数值场景：在一组数字中找出最大数。

> [!info]
> 例如，对于数字 3 和 5，“Maximum” 操作会选出 5。


![bg fit left:50% vertical](https://i.imgur.com/0TY9qLS.webp)

---

**Maximum**  图片处理

颜色信息处理：处理图片时，“Maximum” 操作读取选择颜色更亮或数值更大的信息显示。
例如，两张图片，一处亮色、一处暗色，“Maximum” 操作保留亮色，为图片增添特殊效果。
![bg fit left:50% vertical](https://i.imgur.com/1JfcFc6.webp)

---

### 像素溶解运动(Displace Weight )

Displace Weight: 吹动像素的力, 随时间推进自然扩散的水彩特征

**数值小（如 0.0001）**：
- 像微风轻轻吹过水面，
- 像素逐渐沿着波纹游走。

**数值大（如 0.001）**：
- 瞬间显示波纹变形结果。


![bg fit left:50% vertical](https://i.imgur.com/t8tE5Vk.webp)


---


### 数据映射1 -  Keyboard CHOP 绑定 Pulse

- 添加 Keyboard CHOP连接到Key 1
- 设置重置反馈循环功能便于重新生成效果

![bg fit left:50% vertical](https://i.imgur.com/C4XOGwG.webp)



---


### 数据映射2 -  SliderCOMP + MathCHOP(Range) 绑定DisplaceWeight

![bg fit left:50% vertical](https://i.imgur.com/YWI9opz.webp)



---

## 4. 使用Noise 嵌套结构实现水的复合纹理

- Input 0 : Composite Input（1st合成输入, 传递贴图尺寸）
- **Input 1 : Noise Coordinate Map** （2nd噪点坐标图Noise 每个像素的落脚点由地图（Input 1）决定）


![bg fit left:45% vertical](https://i.imgur.com/oOyvCgF.webp)
![bg fit left:50% vertical](https://i.imgur.com/va1d4qj.webp)

---

### 创建复合噪点


两个Noise 第二个Noise TOP
1. RGB 过滤 不需要INPUT0(合成输入)的参与
2. 可以修改 Seed 值以创建差异
3. ~~可以增加两个噪点的 Harmonics 值至10以增加细节~~

![bg fit left:50% vertical](https://i.imgur.com/KuKpGPI.webp)

---

### 使用 `ReorderTOP`

为`DisplaceTOP`重新排列 Red & Blue
   - 第一个Noise作为 Red 通道（水平位移）
   - 第二个Noise作为Blue 通道（垂直位移）
   - Green绿色通道设为零


![bg fit left:50% vertical](https://i.imgur.com/Kx43yvJ.webp)

![bg fit left:50% vertical](https://i.imgur.com/rO39CtY.webp)

---
### 观察 

```
如果 Reorder OutputBlue 分别为 0 和 1，会产生什么效果？  

Tip：改变了 Displace 的 Vertical Source
```



![bg fit left:50% vertical](https://i.imgur.com/ubKOXsj.webp)

---

### 答案: 

Displace 的 Vertical Source = One 时，所有像素瞬间向下沉。  

Displace 的 Vertical Source = Zero 时，所有像素瞬间向上升。


![bg fit left:50% vertical](https://i.imgur.com/inmfXQd.webp)

---
### 解释 Harmonics

可以从乐器(声音)和波浪(影像)的角度解释谐波。

---

#### 参考
相关: [[Noise(TOP_CHOP)]]



---

### **Harmonics (谐波数量)**  

弹吉他时，除了拨动的弦发出的基本声音（基频）外，还会产生许多更高频率的声音（高频分量）。  


#### 图示: A2 (110Hz) 基频
![bg fit left:50% vertical](https://i.imgur.com/AFzzRBZ.webp)  

---


#### 图示: A2 (110Hz)钢琴 + 其他高频  
![bg fit left:50% vertical](https://i.imgur.com/vMeqTyf.webp)  

---

#### 图示: A2 (110Hz)吉他 + 其他高频  
![bg fit left:50% vertical](https://i.imgur.com/efcYg0w.webp)  

---


### Video - Harmonics案例

![bg fit left:50% vertical](https://i.ytimg.com/vi/FzeZbJceKZE/hqdefault.jpg)
*(Source: [youtube.com: Frequencies & Sound explained #4 : Harmonics & Harmonic distortion - YouTube](https://youtu.be/FzeZbJceKZE?t=117))*  

![bg fit left:50% vertical](https://i.ytimg.com/vi/GLnrysQ1Erg/hqdefault.jpg)  
*(Source: [youtube.com: Why Do Instruments Sound Different? (w/ Visual Demonstrations!) - YouTube](https://youtu.be/GLnrysQ1Erg?t=161))*  

![bg fit left:50% vertical](https://i.ytimg.com/vi/znbfY-tXROk/hqdefault.jpg)  
*(Source: [youtube.com: What are harmonics? - YouTube](https://youtu.be/znbfY-tXROk?t=13))*  

---

### 谐波数量

高频分量的数量。  
谐波数量越大，声音越“粗糙”，波浪越不平滑（前提是“粗糙度”不为零）。  

![bg fit left:50% vertical](https://i.imgur.com/nlBA8g5.webp)


![bg fit left:50% vertical](https://i.imgur.com/efcYg0w.webp)  




---

### **Harmonic Spread (谐波扩展)**  


决定高频分量的频率增加量。

例如，谐波扩展越高，墨水边缘越不规则。


1. Harmonic Spread == 10;
2. Harmonic Spread == 0;

![bg fit left:50% vertical](https://i.imgur.com/8vxUT4o.webp)  

![bg fit left:50% vertical](https://i.imgur.com/FF60spK.webp)  

---

### **Harmonic Gain (谐波增益)**  

- 定义：在基本频率上叠加的谐波数量。
- 可理解为谐波的 “音量” 大小。如图，能看到 noise ("墨水") 会因抖动而独立分裂出来。

![bg fit left:50% vertical](https://i.imgur.com/hJobFi4.webp)  



---

### Harmonics实践


![bg fit left:50% vertical](https://i.imgur.com/BYS0eau.webp)


---



## 6. 可视交互参数调节


核心逻辑是 **线性数学转换** + **参数驱动**，
Math CHOP: “数学计算器”➕➖✖️➗.
通过 `Math` 节点实现 **参数范围映射**，将 Slider 的 `0~1` 输入转换为目标参数所需区间，最终驱动对应 Operator（如 `level1`、`displace1`、`NoiseTOP`）的属性，实现效果控制。

![](https://i.imgur.com/O59TElH.webp)


---

### 1. 水纹大小（`NoiseTOP.Periods`）

- **逻辑核心**：线性放大参数范围。
- **处理流程**：
    1. Slider 输入 `0~1`，直接映射到 `0~2`。
    2. `math2` 执行 `输入值 × 2`，驱动 `NoiseTOP` 的 `periodes`（周期）参数，控制水纹图案的尺寸大小。
![bg fit left:50% vertical](https://i.imgur.com/bg30skp.webp)


---

### 2. 水纹变形速度（`NoiseTOP.tz`）

- **逻辑核心**：结合时间与参数驱动动态变形。
- **处理流程**：
    1. Slider 输入 `0~1`，映射到 `0.00005~0.01`，`math3` 生成速度系数。
    2. 通过表达式 `absTime.seconds × math3 输出值`，将时间（秒）与速度系数相乘，驱动 `NoiseTOP` 的 `tz`（Z 轴位移），实现水纹随时间变形的速度控制。
![bg fit left:50% vertical](https://i.imgur.com/xSmxhFd.webp)

---


### 3. 水纹溶解力（`displaceweight` 清晰度）

- **逻辑核心**：精细控制位移权重参数。
- **处理流程**：
    1. Slider 输入 `0~1`，映射到 `0.0005~0.005`。
    2. `math1` 计算：`0.0005 + (输入值 × 0.0045)`，放大微小参数变化，驱动 `displace1` 的 `displaceweightx`，调整水纹溶解清晰度。
![bg fit left:50% vertical](https://i.imgur.com/SPhba5A.webp)

---


### 4. 色彩混合（`op('level1').par.opacity`）

- **逻辑核心**：通过数学映射调整透明度参数范围。
- **处理流程**：
    1. Slider 输入范围 `0~1`，需映射到 `0.96~1`。
    2. `math4` 执行线性转换：`0.96 + (输入值 × 0.04)`，将原始范围压缩到目标区间，最终驱动 `level1` 的 `opacity` 参数，控制背景融合与色彩纯度。

![bg fit left:50% vertical](https://i.imgur.com/c8n9qMv.webp)



---

## 7. `Collapse Selected` 封装 Component 

`Collapse Selected`  将逻辑上相关的Operator (操作符)组合并封装成一个单独的 **Container COMP (Component Operator)** , 使 Network(网络) 更清晰、更易于管理
![bg fit left:50% vertical](https://i.imgur.com/GIkjJVY.webp)



---

**右键菜单:** 在选定的操作符上单击鼠标右键，然后在弹出的菜单中选择 **"Collapse Selected"**。

![bg fit left:50% vertical](https://i.imgur.com/7THEpP1.webp)


---

当您使用 "Collapse Selected" 功能将多个选定的操作符组合成一个 Container COMP 时，TouchDesigner 会自动在新的 Container COMP 内部创建相应的 **In** 和 **Out** 操作符。

- InTOP 操作符 (Input Operator)
- OutTOP 操作符 (Output Operator)

![bg fit left:50% vertical](https://i.imgur.com/EkINNFT.webp)

---
### **不同类型的 In 操作符:** 

TouchDesigner 提供了不同类型的 In 操作符，对应不同的数据类型：

- **DAT In:** 接收表格或文本数据。
- **CHOP In:** 接收通道数据（例如音频、运动数据）。
- **SOP In:** 接收几何体数据（3D 模型）。
- **TOP In:** 接收图像或视频数据。
- **MAT In:** 接收材质数据。
- **COMP In:** 接收其他组件的数据。
![bg fit left:50% vertical](https://i.imgur.com/hV5f24C.webp)

---
### 不同类型的 Out 操作符

同样，TouchDesigner 也提供了与 In 操作符对应的不同类型的 Out 操作符：

- **DAT Out:** 输出表格或文本数据。
- **CHOP Out:** 输出通道数据。
- **SOP Out:** 输出几何体数据。
- **TOP Out:** 输出图像或视频数据。
- **MAT Out:** 输出材质数据。
- **COMP Out:** 输出组件的数据。

![bg fit left:50% vertical](https://i.imgur.com/6mvoavb.webp)




---
输出分享你的组件

![bg fit left:50% vertical](https://i.imgur.com/wLL6w0C.webp)



---
## 实验2 - 视频应用 Watercolor Effect


![bg fit left:50% vertical](https://i.imgur.com/tuLB5Dn.webp)


---

- [[NDI 连接方式解析]]
- VideoDeviceInTop
![bg fit left:50% vertical](https://i.imgur.com/XJzbiIz.webp)



---





添加自定义处理 

LevelTOP + BlurTOP(可选)

![bg fit left:50% vertical](https://i.imgur.com/sVwleCE.webp)




---


## 8. `MovieFileOut`视频输出

![bg fit left:50% vertical](https://i.imgur.com/5brXLk5.webp)


---

```bash
ffmpeg -i /Users/yamlam/Downloads/EX-TouchDesigner/Ex-DisplaceTOP_WaterColor/Render/TDMovieOut.0.mov -c:v libx264 -crf 23 -c:a aac output.mp4
```


---


[[Nature as Brush - 借自然之力]]


END 




---


## ~~5. 偏好控制(拓展版本)~~

---


### 混合增强（拓展版本）

1. 插入第二个Displace TOP
![bg fit left:50% vertical](https://i.imgur.com/wuWZw94.webp)
![bg fit left:50% vertical](https://i.imgur.com/Cn02CIM.webp)

---

1. 添加Composite TOP设置为Soft Light模式
2. 使用原始图像作为第二输入
3. 后接 Slope TOP：
   - 强度设为5
   - 采样步长设为5

---


### ~~选择性模糊（拓展版本）~~
1. 在反馈循环中添加 Luma Blur
2. 使用噪点作为模糊蒙版：
   - 从Displace后创建Noise TOP
   - 调整Black Filter Width控制模糊区域
   - 设置Exponent为0获得更清晰的边缘

---


### ~~厚度结构感增强（拓展版本油画效果）~~

1. 插入Emboss TOP
2. 设置强度为12
3. 调整Midpoint参数控制结构感
4. 修改Direction参数调整光照方向

---

### 效果版本与输出

### 创建多种风格
- **高水稀释版本**：增加Luma Blur强度
- **细节保留版本**：减少模糊，保持Displace效果
- **结构感版本**：添加Emboss效果



---

# Nicotine Theater 尼古丁剧场

![](https://i.imgur.com/DhW3JBN.webp)

---
## 基础模型

---


### Shooting Stage 舞台


#### Stage Size
设置为 3 米

![bg fit left:50% vertical](https://i.imgur.com/9wYGFxn.webp)



---


#### Stage Material
设置为 PBR 材质

![bg fit left:50% vertical](https://i.imgur.com/OZ9JEKF.webp)


---


### Camera

![bg fit left:50% vertical](https://i.imgur.com/NfH8Hn3.webp)



---


## Particles 
### Sphere(Emitter)

- SphereSOP (Emitter 发射器)
- ParticlesSOP
- GridSOP > GeoCOMP
- RenderTOP


![bg fit left:50% vertical](https://i.imgur.com/kRfFUjK.webp)




---

### ParticlesSOP


---


#### State

**Behavior behave** (行为表现 )
- 从几何体的点发射粒子
- 使用粒子 SOP 的行为来变形原始几何体

**Compute Normals**  - Creates normals on the geometry. **Only** used when Behaviour is set to **Modify Source Geometry**.
![bg fit left:50% vertical](https://i.imgur.com/BA3dzRL.webp)


**Reset (reset)**  && **Reset Pulse (resetpulse)**： “重新开始” 按钮，能让粒子系统把所有的东西都 “归零”。


---


#### Force

![bg fit left:50% vertical](https://i.imgur.com/1mzFjN5.webp)




---

5. SortSOP,  设置粒子发射序列
![bg fit left:50% vertical](https://i.imgur.com/mKAz0Nr.webp)


---

5. 快捷键, 清空粒子

![bg fit left:50% vertical](https://i.imgur.com/t3aZ31c.webp)



---
6. TrailsSOP , 演示粒子拖尾效果


**Trail Length（2）**：决定尾巴保留多长
**Trail Increment（1）**：尾巴有多少个点
**Cache Size（2）**：记住更多粒子的轨迹，太少就记不住啦

![bg fit left:50% vertical](https://i.imgur.com/Zq7tkOP.webp)

---


## 导入 BOSS


### Mixmo 下载模型

![bg fit left:50% vertical](https://i.imgur.com/uWO70Xh.webp)


---

### 导入FBX 

- 将 FBX 文件 拖入 TouchDesigner（TD），
- 自动创建带动画 GEO；
- GEO 内部 SOP 节点层面，非动画模型呈 A /  T 姿势。 


![bg fit left:50% vertical](https://i.imgur.com/CMjnjtn.webp)


---

Flair.fbx 查找 Mesh

![](https://i.imgur.com/CkqNyMo.webp)


---
手臂 mixamorig_Arms_Geo
夹克 mixamorig_Jacket_Geo
鞋子 mixamorig_Shoes_Geo
下牙 mixamorig_Teeth_Down_Geo
左眼 mixamorig_L_Eye_Geo
雪茄 mixamorig_Cigar_Geo
帽子 mixamorig_Hat_Geo
裤子 mixamorig_Pants_Geo
上牙 mixamorig_Teeth_Up_Geo
右眼 mixamorig_R_Eye_Geo
头部 mixamorig_Head_Geo

![bg fit left:50% vertical](https://i.imgur.com/FlxblPg.webp)

![bg fit left:50% vertical](https://i.imgur.com/6KPbULY.webp)

---
### 统一单位和尺度

检查是否有 scale, 如果有设为 1

---
### 重新调整模型大小
调整 Model 站立约1.5米
`FBXOP` > `Xfrom` > `scale`  , 
![bg fit left:50% vertical](https://i.imgur.com/ZZOLBX0.webp)
![bg fit left:50% vertical](https://i.imgur.com/ULylCet.webp)


---

## Particles 设置


### Emitter 发射器

球体半径(radius:0.1~0.5)


![bg fit left:50% vertical](https://i.imgur.com/Gr2zLdB.webp)

---

### Geo 设置 Instance 实例

![bg fit left:50% vertical](https://i.imgur.com/W93UWdh.webp)

---

### Geometry 

![bg fit left:50% vertical](https://i.imgur.com/IAZo89y.webp)


---



###  Emitter 绑定动画

#### 查找包含所有骨骼数据的 CHOP

![bg fit left:50% vertical](https://i.imgur.com/xRdtf3C.webp)

---

#### 获得引用骨骼数据命名

复制所有骨骼属性数据,
通过豆包提取指定骨骼的动画数据

![bg fit left:50% vertical](https://i.imgur.com/X0AWhv4.webp)

![bg fit left:50% vertical](https://i.imgur.com/lu6thIF.webp)

---



![bg fit left:50% vertical](https://i.imgur.com/Hx753vG.webp)


---

#### Select 引用Rotation XYZ 参数

- CHOPs 路径:  `Flair/exportAnim`


![bg fit left:50% vertical](https://i.imgur.com/atwX5lG.webp)


---

- 查询表达式: `mixamorig_Hips:r*`

![bg fit left:50% vertical](https://i.imgur.com/6p1VmJp.webp)


---

#### 绑定 Emitter 

以`SphereSOP` 作为 Particles 粒子发射器

![bg fit left:50% vertical](https://i.imgur.com/IysUbmf.webp)


---




显示 `Points`   确定发射数量

![bg fit left:50% vertical](https://i.imgur.com/XpOgT51.webp)



---
### 偏移原点摆动发射器


![bg fit left:50% vertical](https://i.imgur.com/H392qEZ.webp)


---

## Camera

调整机位, 注意构图, 地面保留适当的空间

![bg fit left:50% vertical](https://i.imgur.com/5XjQZSS.webp)






---



## Lighting 三点照明体系

![bg fit left:50% vertical](https://i.imgur.com/l46aXcA.webp)

- `light_main` 主光 
- `light_b_red`, `light_b_blue` 轮廓光
---

#### 辅光（Fill Light）

位于相机另一侧. 

填充阴影，突出暗部细节。
控制对比, 立体(弱) vs 装饰(强)
不一定是真正的灯光，也可以是反光板


![bg fit left:50% vertical](https://i.imgur.com/e0mufTX.webp)


---
#### 背光（Backlight）

位于拍摄对象后方

增强画面层次感,  分离对象与背景，
控制场景深度。
强调对象 POSE 造型轮廓


![bg fit left:50% vertical](https://i.imgur.com/e0mufTX.webp)

---

#### 主光（Key Light）

最亮的光源，决定场景的整体曝光和氛围。
![bg fit left:50% vertical](https://i.imgur.com/e0mufTX.webp)



---

## Lighting 设置
### Backlight/Rim Light 轮廓光


1. 是否照亮背景固有色, 
2. 是否勾勒出全身轮廓
3. 边缘光的阴影是否必要? (一般不要)

---


![](https://i.imgur.com/ECXm3Tz.webp)


---



### 主光, 舞台锥光参数



立体感, 喜剧感


锥角（Cone Angle）30°，主光照范围核心角度；
锥角公差（Cone Delta）10°，边缘过渡区角度范围，让边缘柔和。
颜色（Light Color）(1, 1, 0.8)，近白色，略带淡黄；
亮度（Dimmer）1.5，高于默认，增强光照强度.
![bg fit left:50% vertical](https://i.imgur.com/p82KNpH.webp)


---

## Fog 雾

灯光着色气氛
烘托神秘感

![bg fit left:50% vertical](https://i.imgur.com/CY6c5Xt.webp)


---

#### Noise Map
Noise Map 参考
![bg fit left:50% vertical](https://i.imgur.com/X09bHY8.webp)




---
## PostProcessing - Bloom辉光

![bg fit left:50% vertical](https://i.imgur.com/Jb9Y9NB.webp)

---


## **四、**探索实验性节点**

如 Metaball（代谢球）、LSyste（L系统分形）, Alembic可实现艺术化形态。

![|200](https://i.ytimg.com/vi/SpCX2_-SDjw/hqdefault.jpg)


(Source: [youtube.com: Switch/ (24) Metaball Tutorial TouchDesigner | Step by Step - YouTube](https://youtu.be/SpCX2_-SDjw?t=592))


![|200](https://i.ytimg.com/vi/LuLpaUpCaek/hqdefault.jpg)
(Source: [youtube.com: Intro/ (24) L-Systems & Particles | TouchDesigner Tutorial - YouTube](https://youtu.be/LuLpaUpCaek?t=0))


---


