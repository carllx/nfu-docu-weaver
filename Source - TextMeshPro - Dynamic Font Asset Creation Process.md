
![|200](https://i.ytimg.com/vi/NY1xKqCIj3c/hqdefault.jpg)
(Source:  [youtube.com: TextMeshPro - Dynamic Font Asset Creation Process](https://youtu.be/NY1xKqCIj3c?t=1234))
TextMeshPro - Dynamic Font Asset Creation Process - YouTube
https://www.youtube.com/watch?v=NY1xKqCIj3c


Transcript:
(00:00) hello there in this video I'm gonna be showing how we can quickly create a dynamic font asset for text mesh for to support Chinese Japanese and Korean characters now I'm creating this video to help out a few users and to sort of show how the workflow has significantly improved since the introduction of the dynamic system in Texas Pro now this system was initially introduced in version 1.
(00:26) 4 and it was later further improved in version 1.5 would be it with the introduction of the multi atlas texture support now right now I'm running unity 20 18.4 21 f1 I'm running preview 9 of version 1.5 of techsmith's pro version preview 9 is not released yet it will be out within the next few day or so but there's nothing of what I'm gonna be showing right now that's dependent on preview 9 preview AIT's the latest that's currently available so again one-point 5.
(00:56) 0 dash preview 8 is for 2018 for version 2.0 1.0 - preview 8 is for 2019 dot X and version 3.0 point o - preview 8 Preview 8 being the common thing between all these versions which means they have feature parity that one is for 2020 dot X so without further ado let's take a look of how at how we can create a dynamic font asset to support Chinese Japanese and Korean character so step one very important step is to pick the right font files font files come in all shapes and sizes and they all have different glyph coverage so it's
(01:33) important to pick a font file that will support the languages you want now a couple good places to get font files there's lots of places on the internet I like google fonts because you can figure out sort font files by language and language coverage which makes it a lot easier to find font files with the characters and languages you want another good place is fonts or my fonts they have over a hundred thousand fonts there's a bunch of free fonts there are commercial fonts with different licensing arrangements and prices so
(02:04) those are two good places that I use often but again font files are all over the place so here I've imported my Seraph cgk regular in unity the way we're gonna create a dynamic fantastic is pretty straightforward I'll show the old way so in the old way is we would go to window and we would bring up the font that's a creator and this is still what we're gonna use to create static font assets kind of but we would use that to create static font asset and I'll explain the kind of because it just has like the ability to better pack and use
(02:41) a more optimized packing algorithm to fit more stuff and so on and so forth but using the font asset creator required some knowledge of the Unicode more specifically the Unicode ranges for the languages you wanted to support or to have a text file that contains all the characters that you want to add to this thing but since the introduction of the dynamic SDF system to be honest I haven't used the font that's the Creator in months because the dynamic system now allows me to do everything I want to do without necessarily having to go there I
(03:14) would go to the font asset creator much later in the production timeframe when I'm trying to bake and and create my final assets which will be a combination of static and dynamic for best performance and and visual and rendering quality and so on and so forth so I I will skip over the font that's the Creator and I'll go back and show the whole thing about dynamic so how do we do and create a dynamic font asset well we're going to select our font file and right clicking you can go through the create menu and whatever stuff but
(03:49) it's gonna be off-screen so I'm gonna go up here cuz it's the same thing so you would go to select the font that font that you'd select the font file go to create and then you go text mesh and you'd say font asset now because I do this step literally like over a hundred times a day I don't use the menus cuz that's insane I always miss click so I added a menu shortcut which is shift control f12 so select it shift control of ff12 and voila we have our dynamic font asset now if I select it it's gonna show that look it's it's a dynamic font
(04:22) asset created for this font here's the rendering modes are available now when I describe the dynamic system here I didn't say dynamic SDF so I'm trying to change how I reference it we can also do bitmap font assets so it does all of the above so here we can see created dynamic font assets sampling point size of 90 padding of 9 Atlas texture of 1024 by 1024 now I'm going to expand the font asset just to show a couple of things we're gonna look at its Atlas texture and I will lock my inspector this is why I have a second
(04:58) one so we can look at the Atlas if we look at its Atlas although I specified I wanted 1k by 1k the Atlas texture size is 0 by 0 this is by design this is the way that we can minimize the size of these dynamic font assets in your build because when you ship them they should be empty because they're designed to capture stuff and there's no point adding a texture that's completely empty that takes a megabyte or 4 megabyte in your build when they're empty so by default dynamic font assets your Atlas textures or uninitialized like the
(05:36) texture exists because it's your own file it's an asset but it has no size so it takes no space but when we add the first character you will get size to the proper size so now let's go use it and see what's gonna happen so I'm gonna create a text object go to create I'll create a normal text message is on screen here I'm going to go off screen and grab some text that I will copy paste in there and I'm going to paste the text and now what we see is a bunch of squares well what is this well in font world this square is the glyph at
(06:13) index 0 in a font file this is specifically designed to let the user know or us the developer that our font which is liberation Sun doesn't have these glyphs and this is the whole purpose of this square thing yes it's ugly but it's designed to tell us something which is hey whatever font I'm trying to use it doesn't support those characters so this is by design now see what happens when we assign our notice on dynamic font a set take a look at the texture here and at the same time look at what's gonna happen on screen so
(06:48) I'm gonna take it drag it here and boom suddenly all the characters were added they're added to our Atlas texture and it just happened as we did it now I could go on the next line and type some gibberish just to add more stuff and as you can see the characters pile up in our atlas texture so this is the whole point with the dynamic system not anytime I could just for fun he raised this entire text I could go back to my font asset and you say you know what I want to reset it so I'm gonna reset boom everything's been erased and we're back
(07:22) to square one now something that's important to understand about the dynamic system changes to dynamic font assets in the editor changes are persistent however in a build at runtime those changes are not persistent they will only live for a play session this means that any time a user starts your game again all these assets are reset back to their default state which is a good thing because then you don't have to worry about them growing to a point where they're full and and they're overflowing with characters but assuming
(07:55) we have to worry about that let's talk about the multi atlas texture feature that I described earlier so I'm gonna go back to my font asset and I'm gonna hit undo just so we can bring the text back and now obviously we just saw the glyphs show up again I'll go back to it and I'll enable this multi Atlas texture support and I'm gonna do something silly I'm going to change my Atlas size to a 256 by 256 now when I say silly why while the sampling point size is limey with a padding value of 9 this basically means
(08:28) that every single glyph takes about a hundred pixel by a hundred pixel size so obviously in a 256 by 256 I can barely fit 4 in there so when I click apply watch what happens here and watch what happens on screen because as I click apply we're asking the font asset to give us all these characters right so when I click apply we didn't see anything happen well yes this obviously changed but we didn't see any changes to the text now I bring this up because on the forum and in different posts I've said that there's a
(09:03) significant performance overhead when you're using dynamic font assets versus static and that is because in a static font asset where the character is already rendered in the texture we already have a glyph table and a character table it's a simple lookup and we're done but in a dynamic system we're having to go open the font file to look for the character then render it into a texture and so on and so forth and that is it's got a pretty significant performance overhead but this significant performance overhead is in
(09:33) compute time not human time and what I mean by that is adding a bunch of glyphs when I click apply we at raster like I don't know I'm not gonna count the characters but you know 20 something or 30 something characters and we didn't even see anything flinch so in human speed it is so much faster than anyone could ever type anything and the point of the system is you're gonna use static font assets for all the text that is known in your project containing your menus UI and all that stuff because you know you're gonna need those anyway
(10:10) but anything else that's gonna come from user input that is where you're gonna use the dynamic system or dynamic fallbacks to catch whatever characters the users may be typing and since the performance in that context is substantially faster than anyone can type the process of opening the font file getting the glyph adding into a texture will be a hundred percent transparent to any user even on super slow devices and that's the point what I'm trying to avoid when I describe it as it's got a performance overhead is I
(10:46) want to avoid users using a hundred percent dynamic on everything where your game starts and you have like a title page with a thousand characters and now suddenly we have to go fetch a thousand characters characters you knew you needed to display anyway like why use dynamic like and and I don't mean to be mean but don't be lazy right let let's do tur it's the equivalent of saying look in an update loop I'm gonna go find component by name get component and do string concatenation to generate as much garbage as I can so in the world
(11:21) of text which is the world I live in I'm a text nerd this is the equivalent of doing that when you're running full dynamic so just avoid that you know best practice but back to the demo so here we saw that when I change these generation settings 256 by 256 obviously we can't fit that many characters in a single Atlas but look at what happened here as needed additional athlete I'll unlock this inspector but as needed additional atlas textures were created to give us the characters that we need so the cool thing about what I explained about
(12:03) changes are persistent in the editor and they're not at runtime and so on and so forth where I was also going is there's a revised workflow that you can now use which is that while you're developing the project run full dynamic why cuz you're developing performance is not that much of an issue at that point and flexibility of the development is what's more important and what I'm seeing run full dynamic just like I did create a font asset don't be silly and make it a 256 by 256 because that's really silly and I'll
(12:37) tweak that shortly for some other stuff I want to show but create a normal dynamic SDF font asset enable multi Atlas texture and just start working and this will ensure that as long as your font file have the characters that to support the languages you're going to be developing and supporting everything is going to show up on screen and it's all gonna work then at some point in the development process you're gonna have to figure out how you're gonna deal with localization and how are you going to break up and address all the different
(13:10) languages that you're targeting are you going to try to ship one single font a set primary with a bunch of fall backs to cover different languages or are you gonna use a variety of font assets some statics some dynamic and rely on asset bundles to load specific payloads for a specific language based on language selections I mean there's gonna be a lot of options and choices you're gonna have to make but at that time is when you're gonna decide when you know what languages you're gonna support and what all the
(13:43) known characters are for a given language or groups of languages and when I say given language or groups of languages for instance French English Dutch Spanish German whatever it doesn't make sense to create specific font assets just for them because we all share the same character set however for Chinese Japanese and Korean and a bunch of other languages that have unique character sets it makes sense to have those beyond their own so once you figure out what you need for each language then you're going to go bake a
(14:15) static fantastic that contains all the known text in your menus UI and so on and so forth and then you will assign as fallback to this primary static one a dynamic font asset with multi atlas texture enabled on it and its job will be to capture whatever a user may type to make sure it shows up on screen and back to persistent changes not being persistent at at runtime you're not gonna have to worry about a user typing so many characters over semi so many months that it's gonna fill up the dynamic asset because every time they
(14:49) end the play session and start a new one that dynamic and fun asset will reset back to its native state of zero by zero so this will give you a very flexible system to deal with all that stuff so let's go back to all these atlases so at some point in the development process when you're gonna go back to try to figure out how to structure the final sort of iteration of your font assets and you might realize well look this was kind of dumb to have a 256 by 256 and what happens if I switch to a 512 by 512 right now let's watch what happens here
(15:27) watch again what happens on screen when I click apply we see nothing and yet it's readjusted or atlases we're not says well you know what now that you're telling me 512 by 512 I only need two atlases to support this if I go back again and I say look you know I was again being silly 1k by 1k is fine apply and we're done we're back to a single one so this process of what I just did when you change generation settings the system will look at what's currently included in the font asset and it will apply the changes to
(16:04) the setting Andry inject all the stuff that wasn't a font asset to begin with meaning if I look at this font asset it contains it has 49 characters and these 49 characters let me reopen it these 49 characters point to a glyph like zero points to glyph 17 so character is the thing that has the Unicode and the reference a glyph the glyph is the visual representation that the character so if I go back here and we look at glyph 17 its R 0 so this font asset contains 49 if I just say you know what what happens let me zoom in just for fun
(16:44) and I wasn't mean to make this big what happens if I change my sampling point size to 20 like pretty low really tall look at what it did to our glyph let's go back to 150 just because we can we still have 49 characters all the time so this keeps track of our characters so in the editor you can mess with these things to get whatever you want to figure out what's the you know what sampling point size does the glyph look best and by the way when I did this to anything and zoom then it looks horrible right and I don't recommend using 24
(17:24) Chinese Japanese and Korean characters and you can get away with about 36 to 40 I've heard some users getting good results at 18 which i think is nuts but nuts in the sense that if it's like input field type text I mean again this to me looks horrible zoomed in but it's often important to pay attention to how BIG's the stacks gonna be on screen because at 20 right now I'm not sure if I go from 20 to 150 did we see any change not really so this also makes it pretty easy now to play around with all these settings to figure out you know what's
(18:09) most optimum now because of the dynamic system with multi atlas it's not as significant but when you're trying to make your static font a set and you're gonna be trying to fit as many glyphs in there as you can be able to play with the sampling point size and all that stuff to get a quality that you feel is good while being able to pack as many glyphs in there is the whole point so I will wrap up this this video because I didn't want to make it so long but I wanted to show how quickly you can now create a dynamic font asset to just make
(18:40) it work and again just to show what I did I will erase all the text I'm gonna select the font asset and let's say I want to reset it back to its native state will look at its Atlas and we'll lock it so I'll select it here and I'm gonna go to the context menu up here you can't see the option because it's off screen but it says reset this is a modified version of reset it will maintain the major settings but it will wipe the Atlas texture and obviously reset does clear or Atlas stable but if I go back and do undo a bunch of times
(19:14) which will undo the text that I deleted here you'll see that they end up right back in our atlas just the way we had it and again just in case somebody skips to the end of the video I'm going to delete the text object I will delete this font asset that I created I'm going to create a new one from Noto CJK control shift f12 I'll create another one control shift f12 I'm gonna go here create a text object I'll go back to wherever my text came from whoops copy paste this copy paste ears again I did the same thing that I did before
(19:54) which is we have notice ah we have raishin sound which doesn't have the glyph coverage I'm going to use no dosung cgk here I will control D to duplicate the text object slap another one below and drag the other font file and then we can see the difference between those two fonts in terms of the design of the character set so this is it for this video it was meant to be a short video but I guess I still managed to make it like close to 15 to 20 minutes my apologies for that this by the way is not the clean video I wanted
(20:27) to make it's just one to help out a user to just quickly show this process so hope I hope this was beneficial I will post this on the unity forum if you have any questions or if you want me to provide more information about specific things that I covered feel free to post them on the forum and ask these questions and it will be my pleasure to answer thank you for watching