# Docu-Weaver v2.0 æ¶æ„æ¦‚è§ˆ

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
**æœ€åæ›´æ–°**: 2025-10-05  
**çŠ¶æ€**: âœ… Current  
**ç»´æŠ¤è€…**: @architect.mdc

---

## ğŸ“‹ ç›®å½•

- [1. æ¶æ„æ„¿æ™¯](#1-æ¶æ„æ„¿æ™¯)
- [2. æ ¸å¿ƒè®¾è®¡åŸåˆ™](#2-æ ¸å¿ƒè®¾è®¡åŸåˆ™)
- [3. ç³»ç»Ÿæ¶æ„å›¾](#3-ç³»ç»Ÿæ¶æ„å›¾)
- [4. ä¸‰å±‚åˆ†ç¦»æ¶æ„](#4-ä¸‰å±‚åˆ†ç¦»æ¶æ„)
- [5. æ ¸å¿ƒç»„ä»¶](#5-æ ¸å¿ƒç»„ä»¶)
- [6. æŠ€æœ¯æ ˆ](#6-æŠ€æœ¯æ ˆ)
- [7. å·¥ä½œæµç¨‹](#7-å·¥ä½œæµç¨‹)
- [8. ç‰ˆæœ¬æ¼”è¿›](#8-ç‰ˆæœ¬æ¼”è¿›)
- [9. ç›¸å…³æ–‡æ¡£](#9-ç›¸å…³æ–‡æ¡£)

---

## 1. æ¶æ„æ„¿æ™¯

### 1.1 è®¾è®¡ç›®æ ‡

Docu-Weaver v2.0 æ˜¯ä¸€ä¸ª **Schema-Driven**ã€**Agent-Guided** çš„æ•™å­¦æ–‡æ¡£è‡ªåŠ¨åŒ–ç”Ÿæˆç³»ç»Ÿï¼Œæ—¨åœ¨å®ç°ï¼š

- ğŸ¯ **ä¸‰å±‚å®Œå…¨åˆ†ç¦»**: Schema / Template / Data ç‹¬ç«‹æ¼”è¿›
- ğŸ¤– **AIä¸»åŠ¨å¼•å¯¼**: Agentä¸ä»…ç”Ÿæˆæ•°æ®ï¼Œæ›´å¼•å¯¼å·¥ä½œæµ
- ğŸ“‹ **Schemaé©±åŠ¨**: æ•°æ®å¥‘çº¦ä½œä¸ºå•ä¸€äº‹å®æ¥æº
- ğŸ”„ **å‘åå…¼å®¹**: å¹³æ»‘å‡çº§è·¯å¾„ï¼Œä¿æŠ¤æ—¢æœ‰æŠ•èµ„

### 1.2 æ ¸å¿ƒä»·å€¼

| ä»·å€¼ç‚¹ | v1.x | v2.0 | æå‡ |
|--------|------|------|------|
| **æ•°æ®ä¸€è‡´æ€§** | äººå·¥ä¿éšœ | Schemaè‡ªåŠ¨éªŒè¯ | â¬†ï¸ 90% |
| **å·¥ä½œæµå¼•å¯¼** | è¢«åŠ¨å“åº” | Agentä¸»åŠ¨å¼•å¯¼ | ğŸ†• æ–°èƒ½åŠ› |
| **é…ç½®ç®¡ç†** | åˆ†æ•£åœ¨å¤šå¤„ | Courseçº§åˆ«ç»Ÿä¸€ | â¬†ï¸ 100% |
| **æ‰©å±•æ€§** | æ¨¡æ¿è€¦åˆ | ä¸‰å±‚ç‹¬ç«‹ | â¬†ï¸ 80% |

---

## 2. æ ¸å¿ƒè®¾è®¡åŸåˆ™

### 2.1 Schema-Driven (Schemaé©±åŠ¨)

```
Schema = Single Source of Truth
```

**æ ¸å¿ƒç†å¿µ**:
- Schemaå®šä¹‰æ•°æ®å¥‘çº¦ï¼Œæ˜¯ç³»ç»Ÿçš„åŸºçŸ³
- æ‰€æœ‰ç»„ä»¶ï¼ˆAIã€éªŒè¯ã€ç”Ÿæˆï¼‰éƒ½åŸºäºSchemaå·¥ä½œ
- Schemaç‰ˆæœ¬åŒ–ç®¡ç†ï¼Œç¡®ä¿å…¼å®¹æ€§

**å®è·µ**:
```yaml
# schemas/lesson_schema.yml
lesson:
  title: 
    type: string
    required: true
  objectives:
    type: list
    required: true
```

### 2.2 Three-Layer Separation (ä¸‰å±‚åˆ†ç¦»)

```
Schema â‰  Template â‰  Data
```

**åˆ†ç¦»åŸåˆ™**:
1. **Schemaå±‚**: å®šä¹‰"ä»€ä¹ˆæ•°æ®"ï¼ˆæ•°æ®å¥‘çº¦ï¼‰
2. **Templateå±‚**: å®šä¹‰"å¦‚ä½•å‘ˆç°"ï¼ˆæ’ç‰ˆæ ·å¼ï¼‰
3. **Dataå±‚**: å®šä¹‰"å…·ä½“å†…å®¹"ï¼ˆå®é™…æ•°æ®ï¼‰

**ä¼˜åŠ¿**:
- âœ… å„å±‚ç‹¬ç«‹æ¼”è¿›
- âœ… å¤ç”¨æ€§æœ€å¤§åŒ–
- âœ… ç»´æŠ¤æˆæœ¬æœ€ä½

### 2.3 Agent-Guided (Agentå¼•å¯¼)

```
Agent = Guide + Generator
```

**åŒé‡è§’è‰²**:
1. **å·¥ä½œæµå¼•å¯¼**: ä¸»åŠ¨è¯¢é—®ã€çŠ¶æ€è¿½è¸ªã€å†³ç­–å»ºè®®
2. **æ•°æ®ç”Ÿæˆ**: åŸºäºSchemaç”Ÿæˆè§„èŒƒåŒ–æ•°æ®

---

## 3. ç³»ç»Ÿæ¶æ„å›¾

### 3.1 å®è§‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docu-Weaver v2.0                      â”‚
â”‚                   Document Generation System              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Layer 1: Schema                      â”‚
â”‚                    (Data Contract)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  course_schema.yml   lesson_schema.yml   outline_schema  â”‚
â”‚  cover_schema.yml                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ å®šä¹‰æ•°æ®å¥‘çº¦
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Layer 2: Template                     â”‚
â”‚                   (Presentation)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  templates/                                              â”‚
â”‚  â”œâ”€â”€ lesson/lesson.docx                                 â”‚
â”‚  â”œâ”€â”€ cover/cover.docx                                   â”‚
â”‚  â””â”€â”€ outline/                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ åº”ç”¨æ¨¡æ¿
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Layer 3: Data                        â”‚
â”‚                    (Content)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  courses/                                                â”‚
â”‚  â””â”€â”€ course-XXX/                                        â”‚
â”‚      â”œâ”€â”€ course.yml        â† Courseé…ç½® (v2.0æ–°å¢)      â”‚
â”‚      â”œâ”€â”€ lessons/*.yml     â† Lessonæ•°æ®                 â”‚
â”‚      â”œâ”€â”€ outline/*.yml     â† Outlineæ•°æ®                â”‚
â”‚      â””â”€â”€ cover/*.yml       â† Coveræ•°æ®                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Cross-Layer Components                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¤– Agent (Lesson-Weaver)   ğŸ“‹ Validator   ğŸ”§ Generator â”‚
â”‚  ğŸ› ï¸  Tools (course_manager)  ğŸ“Š Registry                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ•°æ®æµå‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·éœ€æ±‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lesson-     â”‚       â”‚   Schema    â”‚
â”‚ Weaver      â”‚â—„â”€â”€â”€â”€â”€â”€â”¤  Contract   â”‚
â”‚ Agent       â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ ç”Ÿæˆ
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ lesson.yml  â”‚â”€â”€â”€â”€â”€â”€â–ºâ”‚  Validator  â”‚
â”‚ (Data)      â”‚       â”‚   Engine    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ éªŒè¯é€šè¿‡
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Template   â”‚â—„â”€â”€â”€â”€â”€â”€â”¤  course.yml â”‚
â”‚  Engine     â”‚       â”‚   (Config)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ åˆæˆ
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ lesson.docx â”‚
â”‚ (Output)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ä¸‰å±‚åˆ†ç¦»æ¶æ„

### 4.1 Schemaå±‚ï¼ˆæ•°æ®å¥‘çº¦å±‚ï¼‰

**ä½ç½®**: `schemas/`

**èŒè´£**:
- å®šä¹‰æ•°æ®ç»“æ„å’ŒéªŒè¯è§„åˆ™
- ä½œä¸ºAIã€éªŒè¯ã€ç”Ÿæˆçš„ç»Ÿä¸€æ ‡å‡†
- ç‰ˆæœ¬åŒ–ç®¡ç†æ•°æ®å¥‘çº¦

**æ–‡ä»¶æ¸…å•**:
```
schemas/
â”œâ”€â”€ course_schema.yml     # Courseçº§åˆ«é…ç½® (v2.0æ–°å¢)
â”œâ”€â”€ lesson_schema.yml     # Lessonæ•°æ®ç»“æ„
â”œâ”€â”€ outline_schema.yml    # Outlineæ•°æ®ç»“æ„
â”œâ”€â”€ cover_schema.yml      # Coveræ•°æ®ç»“æ„
â””â”€â”€ README.md             # Schemaæ–‡æ¡£
```

**ç¤ºä¾‹**:
```yaml
# lesson_schema.yml
lesson:
  title:
    type: string
    description: "è¯¾ç¨‹æ ‡é¢˜"
    required: true
  
  objectives:
    type: list
    description: "æ•™å­¦ç›®æ ‡"
    items:
      type: string
    required: true
```

### 4.2 Templateå±‚ï¼ˆæ¨¡æ¿å±‚ï¼‰

**ä½ç½®**: `templates/`

**èŒè´£**:
- å®šä¹‰æ–‡æ¡£çš„å‘ˆç°æ ·å¼å’Œæ’ç‰ˆ
- ä½¿ç”¨å ä½ç¬¦å…³è”Schemaå­—æ®µ
- ä¸æ•°æ®å±‚è§£è€¦ï¼Œç‹¬ç«‹æ¼”è¿›

**æ–‡ä»¶æ¸…å•**:
```
templates/
â”œâ”€â”€ lesson/
â”‚   â””â”€â”€ lesson.docx       # Lessonæ¨¡æ¿
â”œâ”€â”€ cover/
â”‚   â””â”€â”€ cover.docx        # å°é¢æ¨¡æ¿
â””â”€â”€ outline/              # Outlineæ¨¡æ¿ï¼ˆè§„åˆ’ä¸­ï¼‰
```

**å ä½ç¬¦è§„èŒƒ**:
```
{{lesson.title}}          # ç®€å•å­—æ®µ
{{lesson.objectives}}     # åˆ—è¡¨å¾ªç¯
{{lesson.metadata.date}}  # åµŒå¥—å­—æ®µ
```

### 4.3 Dataå±‚ï¼ˆæ•°æ®å±‚ï¼‰

**ä½ç½®**: `courses/`

**èŒè´£**:
- å­˜å‚¨å…·ä½“çš„è¯¾ç¨‹å†…å®¹æ•°æ®
- éµå¾ªSchemaå®šä¹‰çš„ç»“æ„
- Courseçº§åˆ«é…ç½®ç»Ÿä¸€ç®¡ç†

**ç›®å½•ç»“æ„**:
```
courses/
â””â”€â”€ course-XXX/
    â”œâ”€â”€ course.yml        # â­ v2.0: Courseçº§åˆ«é…ç½®
    â”‚                     #   - template_override
    â”‚                     #   - schema_version
    â”‚                     #   - metadata
    â”‚
    â”œâ”€â”€ lessons/          # Lessonæ•°æ®
    â”‚   â”œâ”€â”€ lesson1.yml
    â”‚   â””â”€â”€ lesson2.yml
    â”‚
    â”œâ”€â”€ outline/          # Outlineæ•°æ®
    â”‚   â””â”€â”€ outline.yml
    â”‚
    â”œâ”€â”€ cover/            # Coveræ•°æ®
    â”‚   â””â”€â”€ cover.yml
    â”‚
    â””â”€â”€ output/           # ç”Ÿæˆçš„æ–‡æ¡£
```

**v2.0æ ¸å¿ƒå˜åŒ–: course.yml**
```yaml
# course.yml - Courseçº§åˆ«ç»Ÿä¸€é…ç½®
course_id: "course-001"
title: "å­—ä½“è®¾è®¡åŸºç¡€"
schema_version: "v2.0"

# æ¨¡æ¿é…ç½®ï¼ˆå¯é€‰ï¼Œè¦†ç›–å…¨å±€æ¨¡æ¿ï¼‰
template_override:
  lesson: "custom/lesson-template.docx"
  cover: null  # ä½¿ç”¨å…¨å±€é»˜è®¤

# å…ƒæ•°æ®
metadata:
  instructor: "å¼ è€å¸ˆ"
  semester: "2024æ˜¥å­£"
  credits: 3
```

---

## 5. æ ¸å¿ƒç»„ä»¶

### 5.1 Lesson-Weaver Agent (AI Agent)

**ç‰ˆæœ¬**: v2.0  
**æ–‡ä»¶**: `agents/lesson-weaver.md`

**æ ¸å¿ƒå‡çº§**:
- âœ… ä¸»åŠ¨å¼•å¯¼å·¥ä½œæµï¼ˆè¯¢é—®ã€å»ºè®®ã€å†³ç­–ï¼‰
- âœ… çŠ¶æ€æ„ŸçŸ¥ï¼ˆè¯»å–course.ymlï¼Œäº†è§£è¯¾ç¨‹ä¸Šä¸‹æ–‡ï¼‰
- âœ… Schemaé©±åŠ¨ç”Ÿæˆï¼ˆä¸¥æ ¼éµå¾ªSchemaå¥‘çº¦ï¼‰

**å·¥ä½œæµçŠ¶æ€æœº**:
```
START â†’ è¯¾ç¨‹è¯†åˆ« â†’ éœ€æ±‚æ”¶é›† â†’ æ•°æ®ç”Ÿæˆ â†’ éªŒè¯ â†’ è¾“å‡º â†’ END
         â†“           â†“           â†“         â†“      â†“
      è¯»course.yml  ä¸»åŠ¨è¯¢é—®   éµå¾ªSchema  è‡ªåŠ¨æ ¡éªŒ  docx
```

### 5.2 Schema Validator (éªŒè¯å¼•æ“)

**èŒè´£**:
- éªŒè¯YAMLæ•°æ®æ˜¯å¦ç¬¦åˆSchemaå®šä¹‰
- è‡ªåŠ¨åŒ–æµ‹è¯•é›†æˆ
- é”™è¯¯å®šä½å’ŒæŠ¥å‘Š

**ä½¿ç”¨**:
```python
from tools.course_manager import CourseManager

manager = CourseManager("course-001")
is_valid = manager.validate_lesson("lesson1.yml")
```

### 5.3 Document Generator (æ–‡æ¡£ç”Ÿæˆå™¨)

**èŒè´£**:
- è¯»å–Dataå±‚YAML
- åº”ç”¨Templateå±‚æ¨¡æ¿
- ç”Ÿæˆæœ€ç»ˆdocxæ–‡æ¡£

**è°ƒç”¨**:
```python
manager.generate_lesson_doc("lesson1.yml")
```

### 5.4 Course Manager (è¯¾ç¨‹ç®¡ç†å·¥å…·)

**æ–‡ä»¶**: `tools/course_manager.py`

**åŠŸèƒ½**:
- Courseçº§åˆ«é…ç½®è¯»å–ï¼ˆv2.0ï¼‰
- æ¨¡æ¿è·¯å¾„è§£æï¼ˆæ”¯æŒtemplate_overrideï¼‰
- æ‰¹é‡æ–‡æ¡£ç”Ÿæˆ
- æ•°æ®éªŒè¯é›†æˆ

---

## 6. æŠ€æœ¯æ ˆ

### 6.1 æ ¸å¿ƒä¾èµ–

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Python** | 3.7+ | ä¸»è¯­è¨€ |
| **PyYAML** | 6.0+ | YAMLè§£æ |
| **python-docx** | 0.8.11+ | Wordæ–‡æ¡£ç”Ÿæˆ |
| **pytest** | 7.0+ | æµ‹è¯•æ¡†æ¶ |

### 6.2 å¼€å‘å·¥å…·

- **Git**: ç‰ˆæœ¬æ§åˆ¶
- **VS Code / Cursor**: å¼€å‘ç¯å¢ƒ
- **Black**: ä»£ç æ ¼å¼åŒ–
- **MyPy**: ç±»å‹æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰

---

## 7. å·¥ä½œæµç¨‹

### 7.1 å®Œæ•´æµç¨‹ï¼ˆä½¿ç”¨Lesson-Weaverï¼‰

```
1. ç”¨æˆ·: "æˆ‘è¦åˆ›å»ºä¸€ä¸ªæ–°è¯¾ç¨‹çš„Lesson"
   Agent: "å¥½çš„ï¼Œè¯·é—®æ˜¯ä¸ºå“ªä¸ªè¯¾ç¨‹ï¼Ÿ"ï¼ˆè¯»å–courses/ç›®å½•ï¼‰

2. ç”¨æˆ·: "course-001"
   Agent: ï¼ˆè¯»å–course.ymlï¼‰"è¿™æ˜¯'å­—ä½“è®¾è®¡åŸºç¡€'è¯¾ç¨‹ï¼Œ
          å½“å‰æœ‰2ä¸ªlessonï¼Œæ˜¯å¦ç»§ç»­åˆ›å»ºlesson3ï¼Ÿ"

3. ç”¨æˆ·: "æ˜¯çš„"
   Agent: ï¼ˆéµå¾ªlesson_schema.ymlï¼‰
          "è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
          - è¯¾ç¨‹æ ‡é¢˜
          - æ•™å­¦ç›®æ ‡ï¼ˆè‡³å°‘1ä¸ªï¼‰
          - ..."

4. ç”¨æˆ·: æä¾›ä¿¡æ¯
   Agent: ï¼ˆç”Ÿæˆlesson3.ymlï¼Œéµå¾ªSchemaï¼‰
          "æ•°æ®å·²ç”Ÿæˆï¼Œæ˜¯å¦éªŒè¯ï¼Ÿ"

5. ç”¨æˆ·: "éªŒè¯"
   Agent: ï¼ˆè°ƒç”¨Validatorï¼‰
          "âœ… éªŒè¯é€šè¿‡ï¼æ˜¯å¦ç”Ÿæˆdocxæ–‡æ¡£ï¼Ÿ"

6. ç”¨æˆ·: "ç”Ÿæˆ"
   Agent: ï¼ˆè°ƒç”¨Generatorï¼Œåº”ç”¨template_overrideï¼‰
          "âœ… å·²ç”Ÿæˆ: output/lesson3.docx"
```

### 7.2 æ‰‹åŠ¨æµç¨‹ï¼ˆç›´æ¥ä½¿ç”¨å·¥å…·ï¼‰

```bash
# 1. åˆ›å»ºCourseç»“æ„
python tools/course_manager.py create course-002 "å¹³é¢è®¾è®¡"

# 2. æ‰‹åŠ¨ç¼–è¾‘ lesson.ymlï¼ˆéµå¾ªSchemaï¼‰
vim courses/course-002/lessons/lesson1.yml

# 3. éªŒè¯æ•°æ®
python tools/course_manager.py validate course-002/lessons/lesson1.yml

# 4. ç”Ÿæˆæ–‡æ¡£
python tools/course_manager.py generate course-002/lessons/lesson1.yml

# 5. æ‰¹é‡ç”Ÿæˆ
python tools/course_manager.py batch-generate course-002
```

---

## 8. ç‰ˆæœ¬æ¼”è¿›

### 8.1 ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | v1.0-v1.3 | v1.4 | v2.0 |
|------|-----------|------|------|
| **æ•°æ®é©±åŠ¨** | æ‰‹åŠ¨YAML | Schemaé©±åŠ¨ | Schemaé©±åŠ¨ |
| **é…ç½®ç®¡ç†** | åˆ†æ•£ | åˆ†æ•£ | Courseçº§åˆ«ç»Ÿä¸€ |
| **Agentè§’è‰²** | æ•°æ®ç”Ÿæˆ | æ•°æ®ç”Ÿæˆ | å¼•å¯¼+ç”Ÿæˆ |
| **æ¨¡æ¿ç®¡ç†** | å…¨å±€å”¯ä¸€ | å…¨å±€å”¯ä¸€ | æ”¯æŒCourseçº§åˆ«è¦†ç›– |
| **ä¸‰å±‚åˆ†ç¦»** | éƒ¨åˆ†åˆ†ç¦» | å®Œå…¨åˆ†ç¦» | å®Œå…¨åˆ†ç¦» |

### 8.2 è¿ç§»è·¯å¾„

**v1.x â†’ v2.0**:
1. âœ… æ·»åŠ  `course.yml`ï¼ˆå¯é€‰ï¼Œå…¼å®¹æ— æ­¤æ–‡ä»¶çš„æƒ…å†µï¼‰
2. âœ… æ›´æ–° Lesson-Weaver åˆ° v2.0
3. âœ… æ— éœ€ä¿®æ”¹ç°æœ‰ YAML æ•°æ®
4. âœ… æ— éœ€ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶

**å‘åå…¼å®¹æ‰¿è¯º**:
- v2.0å®Œå…¨å…¼å®¹v1.4æ•°æ®æ ¼å¼
- course.ymlä¸ºå¯é€‰é…ç½®
- é»˜è®¤è¡Œä¸ºä¸v1.4ä¸€è‡´

---

## 9. ç›¸å…³æ–‡æ¡£

### 9.1 æ¶æ„æ–‡æ¡£
- [Schema-Driven æ¶æ„](6-schema-driven-architecture.md) - æ·±å…¥ç†è§£Schemaé©±åŠ¨
- [Agent æ¶æ„ v2.0](8-agent-driven-architecture-v2.md) - Agentè®¾è®¡è¯¦è§£
- [Lesson-Weaver é›†æˆ](7-lesson-weaver-integration.md) - Agentä½¿ç”¨æŒ‡å—

### 9.2 è®¾è®¡å†³ç­–
- [ADR-001: æ¸…æ™°æ¶æ„é‡æ„](ADR-001-clean-architecture-refactoring.md) - æ¶æ„é‡æ„å†³ç­–è®°å½•

### 9.3 å¿«é€Ÿä¸Šæ‰‹
- [å¿«é€Ÿä¸Šæ‰‹æŒ‡å—](../../ARCHITECTURE_V2_QUICK_START.md) - 5åˆ†é’Ÿäº†è§£v2.0
- [æ¶æ„é‡æ„æ€»ç»“](../../ARCHITECTURE_REFACTORING_SUMMARY.md) - é‡æ„å…¨æ™¯

### 9.4 å¼€å‘æ–‡æ¡£
- [Schema æ–‡æ¡£](../../schemas/README.md) - Schemaè¯¦ç»†è¯´æ˜
- [Course Manager ä½¿ç”¨](../../tools/course_manager.py) - å·¥å…·ä½¿ç”¨è¯´æ˜
- [PRD](../prd.md) - äº§å“éœ€æ±‚æ–‡æ¡£

---

## ğŸ“ è”ç³»ä¸æ”¯æŒ

**æ¶æ„è´Ÿè´£äºº**: @architect.mdc  
**äº§å“è´Ÿè´£äºº**: @po.mdc  
**é—®é¢˜åé¦ˆ**: å‚è§é¡¹ç›® [README](../../README.md)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
**æœ€åæ›´æ–°**: 2025-10-05  
**ä¸‹æ¬¡å®¡æŸ¥**: 2025-11-05  
**ç»´æŠ¤è€…**: @architect.mdc

