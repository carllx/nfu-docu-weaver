# è¯¾ç¨‹æ¨¡æ¿ç›®å½• (v2.0)

æœ¬ç›®å½•æ˜¯åˆ›å»ºæ–°è¯¾ç¨‹çš„æ¨¡æ¿ã€‚å½“ä½¿ç”¨ `course_manager.py create` åˆ›å»ºæ–°è¯¾ç¨‹æ—¶ï¼Œä¼šå¤åˆ¶æ­¤ç›®å½•ç»“æ„ã€‚

**ç‰ˆæœ¬**: v2.0  
**æ›´æ–°æ—¥æœŸ**: 2025-10-05  
**Schema**: `../../schemas/course_schema.yml`

---

## ğŸ“‹ ç›®å½•ç»“æ„ (v2.0)

```
.course-template/
â”œâ”€â”€ README.md                  # æœ¬æ–‡ä»¶
â”œâ”€â”€ course.yml                 # è¯¾ç¨‹å…ƒæ•°æ®æ¨¡æ¿ (v2.0 æ ¼å¼)
â”œâ”€â”€ outline/                   # è¯¾ç¨‹å¤§çº²æ•°æ®ç›®å½•
â”‚   â””â”€â”€ .gitkeep
â”œâ”€â”€ cover/                     # æ•™æ¡ˆé¦–é¡µæ•°æ®ç›®å½•
â”‚   â””â”€â”€ .gitkeep
â”œâ”€â”€ lessons/                   # æ•™æ¡ˆæ•°æ®ç›®å½•
â”‚   â””â”€â”€ .gitkeep
â””â”€â”€ output/                    # ç”Ÿæˆçš„ Word æ–‡æ¡£ç›®å½•
    â””â”€â”€ .gitkeep

æ³¨æ„: v2.0 ä¸­ç§»é™¤äº† templates/ ç›®å½•
      æ¨¡æ¿æ–‡ä»¶ç»Ÿä¸€ä½¿ç”¨é¡¹ç›®çº§ /templates/ ç›®å½•
```

---

## ğŸ†• v2.0 æ–°ç‰¹æ€§

### 1. Schema-Driven é…ç½®

`course.yml` ç°åœ¨åŒ…å« `config` é…ç½®èŠ‚ï¼Œæ˜ç¡®å¼•ç”¨ï¼š
- **Schema æ–‡ä»¶**: æ•°æ®ç»“æ„å®šä¹‰
- **Template æ–‡ä»¶**: Word æ¨¡æ¿
- **æ•°æ®ç›®å½•**: è¯¾ç¨‹å†…å®¹å­˜æ”¾ä½ç½®

```yaml
config:
  schemas:
    lesson: schemas/lesson_schema.yml
  templates:
    lesson: templates/lesson/lesson.docx
  data_dirs:
    lessons: lessons/
```

### 2. æ¸…æ™°çš„è·¯å¾„è§„åˆ™

- **é¡¹ç›®çº§èµ„æº**: è·¯å¾„ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•
  - `schemas/` - Schema å®šä¹‰
  - `templates/` - Word æ¨¡æ¿
  
- **è¯¾ç¨‹çº§æ•°æ®**: è·¯å¾„ç›¸å¯¹äºè¯¾ç¨‹ç›®å½•
  - `lessons/` - æ•™æ¡ˆæ•°æ® YAML
  - `outline/` - å¤§çº²æ•°æ® YAML
  - `cover/` - é¦–é¡µæ•°æ® YAML
  - `output/` - ç”Ÿæˆçš„æ–‡æ¡£

### 3. ç§»é™¤å†—ä½™ templates/ ç›®å½•

**ç†ç”±**: æ¨¡æ¿æ˜¯æ ¼å¼å®šä¹‰ï¼Œåº”å…¨å±€å…±äº«ï¼Œé¿å…ä¸ä¸€è‡´å’Œé‡å¤ã€‚

**ç‰¹æ®Šéœ€æ±‚**: å¦‚éœ€è¯¾ç¨‹ç‰¹å®šæ¨¡æ¿ï¼Œå¯åœ¨ `course.yml` ä¸­è¦†ç›–è·¯å¾„ã€‚

## ä½¿ç”¨æ–¹æ³•

### åˆ›å»ºæ–°è¯¾ç¨‹

```bash
python tools/course_manager.py create \
  --name "è¯¾ç¨‹åç§°" \
  --code "è¯¾ç¨‹ä»£ç " \
  --instructor "æˆè¯¾æ•™å¸ˆ" \
  --weeks 16
```

è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„è¯¾ç¨‹ç›®å½•ï¼Œä¾‹å¦‚ `courses/course-001-course-name/`

### ğŸ“ è¯¾ç¨‹ç›®å½•è¯´æ˜

#### `outline/` - è¯¾ç¨‹å¤§çº²æ•°æ®
- å­˜æ”¾è¯¾ç¨‹å¤§çº²çš„ YAML æ•°æ®æ–‡ä»¶
- æ–‡ä»¶éµå¾ª `schemas/outline_schema.yml`
- ç¤ºä¾‹: `outline.yml`

#### `cover/` - æ•™æ¡ˆé¦–é¡µæ•°æ®
- å­˜æ”¾æ•™æ¡ˆé¦–é¡µçš„ YAML æ•°æ®æ–‡ä»¶
- æ–‡ä»¶éµå¾ª `schemas/cover_schema.yml`
- ç¤ºä¾‹: `cover.yml`

#### `lessons/` - æ•™æ¡ˆæ•°æ®
- å­˜æ”¾å„è¯¾æ¬¡çš„æ•™æ¡ˆ YAML æ•°æ®æ–‡ä»¶
- æ¯ä¸ªæ–‡ä»¶éµå¾ª `schemas/lesson_schema.yml`
- å‘½åå»ºè®®: `lesson-01.yml`, `lesson-02.yml`, ...

#### `output/` - ç”Ÿæˆçš„æ–‡æ¡£
- å­˜æ”¾æ‰€æœ‰ç”Ÿæˆçš„ Word æ–‡æ¡£
- ç”± `generate_docs.py` è‡ªåŠ¨ç”Ÿæˆ
- åŒ…å«: å¤§çº²ã€é¦–é¡µã€å„è¯¾æ¬¡æ•™æ¡ˆ

---

## ğŸš€ æ¶æ„ä¼˜åŠ¿

### Schema-Driven Architecture

```
course.yml â†’ å¼•ç”¨ â†’ schemas/*.yml (æ•°æ®ç»“æ„)
                   â†“
            lessons/*.yml (å®é™…æ•°æ®)
                   â†“
            templates/*.docx (æ–‡æ¡£æ ¼å¼)
                   â†“
            output/*.docx (æœ€ç»ˆæ–‡æ¡£)
```

### æ¸…æ™°çš„å…³æ³¨ç‚¹åˆ†ç¦»

| å±‚çº§ | èŒè´£ | ä½ç½® |
|------|------|------|
| **Schema** | æ•°æ®ç»“æ„å®šä¹‰ | `/schemas/` |
| **Template** | æ–‡æ¡£æ ¼å¼å®šä¹‰ | `/templates/` |
| **Data** | è¯¾ç¨‹å†…å®¹æ•°æ® | è¯¾ç¨‹ç›®å½•å†… |
| **Output** | ç”Ÿæˆçš„æ–‡æ¡£ | `output/` |

## æ³¨æ„äº‹é¡¹

1. ä¸è¦ç›´æ¥ä¿®æ”¹ `.course-template/` ç›®å½•
2. æ¯ä¸ªè¯¾ç¨‹éƒ½æ˜¯ç‹¬ç«‹çš„å·¥ä½œç©ºé—´
3. è¯¾ç¨‹ ID ä¼šè‡ªåŠ¨ç”Ÿæˆï¼ˆå¦‚ `course-001`, `course-002`ï¼‰
4. è¯¾ç¨‹ç›®å½•åæ ¼å¼: `course-{id}-{name-slug}`
